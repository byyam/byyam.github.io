<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"byyam.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"flat"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Yam&#39;s Notebook">
<meta property="og:url" content="https://byyam.github.io/index.html">
<meta property="og:site_name" content="Yam&#39;s Notebook">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yam">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://byyam.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Yam's Notebook</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Yam's Notebook</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2021/09/17/2021-09-18-pion/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/17/2021-09-18-pion/" class="post-title-link" itemprop="url">Pion</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-18 00:00:00" itemprop="dateCreated datePublished" datetime="2021-09-18T00:00:00+08:00">2021-09-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/media/" itemprop="url" rel="index"><span itemprop="name">media</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Pion是什么"><a href="#Pion是什么" class="headerlink" title="Pion是什么"></a>Pion是什么</h1><p>golang实现的webrtc。</p>
<h2 id="webrtc-peerconnection"><a href="#webrtc-peerconnection" class="headerlink" title="webrtc peerconnection"></a>webrtc peerconnection</h2><p>webrtc里最基本的模块就是peerconnection，代码里经常缩写成pc。</p>
<p>peerconnection对外提供的接口有一部分是On开头的，用于在peerconnection内部发生某事件的回调接口。</p>
<p>使用默认配置新建pc</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pc, err := webrtc.NewPeerConnection(config)</span><br></pre></td></tr></table></figure>

<p>或使用自定义配置新建pc</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">peerConnection, err := webrtc.NewAPI(webrtc.WithMediaEngine(m), webrtc.WithInterceptorRegistry(i)).NewPeerConnection(config)</span><br></pre></td></tr></table></figure>

<p>NewAPI接口设计使用<code>Function Option</code>的编程模式，扩展性好。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webrtc可自定义的引擎和调用链，都定义为私有，只能在初始化时从外部指定</span></span><br><span class="line"><span class="keyword">type</span> API <span class="keyword">struct</span> &#123;</span><br><span class="line">	settingEngine       *SettingEngine <span class="comment">// 和ICE，NAT，DTLS等相关的功能，几乎都是标准流程，可定制化的内容很少</span></span><br><span class="line">	mediaEngine         *MediaEngine <span class="comment">// 和pc能力相关的参数，比如codec，extension等</span></span><br><span class="line">	interceptorRegistry *interceptor.Registry <span class="comment">// 和RTP/RTCP包处理相关的功能，比如JitterBuffer，NACK，TWCC等</span></span><br><span class="line"></span><br><span class="line">	interceptor interceptor.Interceptor <span class="comment">// Generated per PeerConnection</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 对外初始化接口，可灵活扩展</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewAPI</span><span class="params">(options ...<span class="keyword">func</span>(*API)</span>) *<span class="title">API</span></span> &#123;</span><br><span class="line">	a := &amp;API&#123;interceptor: &amp;interceptor.NoOp&#123;&#125;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, o := <span class="keyword">range</span> options &#123;</span><br><span class="line">		o(a)</span><br><span class="line">	&#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 外部可自定义实例化这个成员</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WithInterceptorRegistry</span><span class="params">(interceptorRegistry *interceptor.Registry)</span> <span class="title">func</span><span class="params">(a *API)</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(a *API)</span></span> &#123;</span><br><span class="line">		a.interceptorRegistry = interceptorRegistry</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="TURN"><a href="#TURN" class="headerlink" title="TURN"></a>TURN</h3><p>TURN服务器兼容了STUN服务器的功能，即打洞和中继服务器。</p>
<p>STUN消息类型：</p>
<ul>
<li>Request 0x00</li>
<li>Indication 0x01</li>
<li>Success Response 0x02</li>
<li>Error Response 0x03</li>
</ul>
<p>STUN消息方法：</p>
<ul>
<li>Binding 0x001</li>
<li>Allocate 0x003</li>
<li>Refresh 0x004</li>
<li>Send 0x006</li>
<li>Data 0x007</li>
<li>CreatePermission 0x008</li>
<li>ChannelBind 0x009</li>
</ul>
<p><code>turn server</code>实现了一个<code>allocation manager</code>用于管理已授权的client信息，用作管理client的长效鉴权和分配中继信息。</p>
<h4 id="请求分配中继"><a href="#请求分配中继" class="headerlink" title="请求分配中继"></a>请求分配中继</h4><p>TURN client和server之间可选择UDP，TCP（包括TLS）传输STUN消息，TURN server和peer之间一般是UDP传输DATA。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzkxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo5MTNweDtoZWlnaHQ6MzkxcHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgOTEzIDM5MSIgd2lkdGg9IjkxM3B4IiB6b29tQW5kUGFuPSJtYWduaWZ5Ij48ZGVmcz48ZmlsdGVyIGhlaWdodD0iMzAwJSIgaWQ9ImZta2txOTZuM2JvZ3QiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Zta2txOTZuM2JvZ3QpIiBoZWlnaHQ9IjM0LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI0MzMuNSIgeT0iMTAwLjU2MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZm1ra3E5Nm4zYm9ndCkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjQzMy41IiB5PSIyMDQuOTYwOSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmbWtrcTk2bjNib2d0KSIgaGVpZ2h0PSI4NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjIuMDsiIHdpZHRoPSI0MTkiIHg9IjYxIiB5PSI1Ny4yOTY5Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Zta2txOTZuM2JvZ3QpIiBoZWlnaHQ9Ijg1LjM5ODQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6Mi4wOyIgd2lkdGg9Ijg5MCIgeD0iOSIgeT0iMTU2LjY5NTMiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZm1ra3E5Nm4zYm9ndCkiIGhlaWdodD0iNzUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iMzAxIiB4PSIxNzkiIHk9IjI1Ni4wOTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjIxOCIgeDI9IjIxOCIgeTE9IjQwLjI5NjkiIHkyPSIzNDguNDkyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI0MzgiIHgyPSI0MzgiIHkxPSI0MC4yOTY5IiB5Mj0iMzQ4LjQ5MjIiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm1ra3E5Nm4zYm9ndCkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTUiIHg9IjE4OSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxIiB4PSIxOTYiIHk9IjI0Ljk5NTEiPmNsaWVudDwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm1ra3E5Nm4zYm9ndCkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTUiIHg9IjE4OSIgeT0iMzQ3LjQ5MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMTk2IiB5PSIzNjcuNDg3MyI+Y2xpZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmbWtrcTk2bjNib2d0KSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1OSIgeD0iNDA3IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUiIHg9IjQxNCIgeT0iMjQuOTk1MSI+c2VydmVyPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmbWtrcTk2bjNib2d0KSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1OSIgeD0iNDA3IiB5PSIzNDcuNDkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1IiB4PSI0MTQiIHk9IjM2Ny40ODczIj5zZXJ2ZXI8L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Zta2txOTZuM2JvZ3QpIiBoZWlnaHQ9IjM0LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI0MzMuNSIgeT0iMTAwLjU2MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZm1ra3E5Nm4zYm9ndCkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjQzMy41IiB5PSIyMDQuOTYwOSIvPjxwYXRoIGQ9Ik02MSw1Ny4yOTY5IEwyMDEsNTcuMjk2OSBMMjAxLDY0LjI5NjkgTDE5MSw3NC4yOTY5IEw2MSw3NC4yOTY5IEw2MSw1Ny4yOTY5ICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI4NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjIuMDsiIHdpZHRoPSI0MTkiIHg9IjYxIiB5PSI1Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk1IiB4PSI3NiIgeT0iNzAuMzYzOCI+QWxsb2NhdGUg5Yy/5ZCNPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNDIxLjUsOTYuNTYyNSw0MzEuNSwxMDAuNTYyNSw0MjEuNSwxMDQuNTYyNSw0MjUuNSwxMDAuNTYyNSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjE4LjUiIHgyPSI0MjcuNSIgeTE9IjEwMC41NjI1IiB5Mj0iMTAwLjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDgiIHg9IjIyNS41IiB5PSI5NS40OTY2Ij5BbGxvY2F0ZSBSZXF1ZXN0PC90ZXh0PjxwYXRoIGQ9Ik03MSw3OS40Mjk3IEw3MSwxMDQuNDI5NyBMMjA5LDEwNC40Mjk3IEwyMDksODkuNDI5NyBMMTk5LDc5LjQyOTcgTDcxLDc5LjQyOTcgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZm1ra3E5Nm4zYm9ndCkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xOTksNzkuNDI5NyBMMTk5LDg5LjQyOTcgTDIwOSw4OS40Mjk3IEwxOTksNzkuNDI5NyAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNyIgeD0iNzciIHk9Ijk2LjQ5NjYiPuWwneivleS9v+eUqOWMv+WQjeeahOivt+axgjwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjIyOS41LDEzMC42OTUzLDIxOS41LDEzNC42OTUzLDIyOS41LDEzOC42OTUzLDIyNS41LDEzNC42OTUzIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMjMuNSIgeDI9IjQzNy41IiB5MT0iMTM0LjY5NTMiIHkyPSIxMzQuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1MyIgeD0iMjM1LjUiIHk9IjEyOS42Mjk0Ij5BbGxvY2F0ZSBFcnJvciBSZXNwb25zZTwvdGV4dD48cGF0aCBkPSJNOSwxNTYuNjk1MyBMMTc3LDE1Ni42OTUzIEwxNzcsMTYzLjY5NTMgTDE2NywxNzMuNjk1MyBMOSwxNzMuNjk1MyBMOSwxNTYuNjk1MyAiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iODkwIiB4PSI5IiB5PSIxNTYuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjMiIHg9IjI0IiB5PSIxNjkuNzYyMiI+QWxsb2NhdGUg6ZW/5pWI6Ym05p2DPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNDIxLjUsMjAwLjk2MDksNDMxLjUsMjA0Ljk2MDksNDIxLjUsMjA4Ljk2MDksNDI1LjUsMjA0Ljk2MDkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIxOC41IiB4Mj0iNDI3LjUiIHkxPSIyMDQuOTYwOSIgeTI9IjIwNC45NjA5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgyIiB4PSIyMjUuNSIgeT0iMTk5Ljg5NSI+QWxsb2NhdGUgUmVxdWVzdCB3aXRoIG5vbmNlPC90ZXh0PjxwYXRoIGQ9Ik0xOSwxNzguODI4MSBMMTksMjAzLjgyODEgTDIwOSwyMDMuODI4MSBMMjA5LDE4OC44MjgxIEwxOTksMTc4LjgyODEgTDE5LDE3OC44MjgxICIgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Zta2txOTZuM2JvZ3QpIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTk5LDE3OC44MjgxIEwxOTksMTg4LjgyODEgTDIwOSwxODguODI4MSBMMTk5LDE3OC44MjgxICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY5IiB4PSIyNSIgeT0iMTk1Ljg5NSI+5Yy/5ZCN6K+35rGC5aSx6LSl77yM5L2/55So6Ym05p2D5pa55byPPC90ZXh0PjxwYXRoIGQ9Ik00NDgsMTc4LjgyODEgTDQ0OCwyMDMuODI4MSBMODkwLDIwMy44MjgxIEw4OTAsMTg4LjgyODEgTDg4MCwxNzguODI4MSBMNDQ4LDE3OC44MjgxICIgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Zta2txOTZuM2JvZ3QpIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNODgwLDE3OC44MjgxIEw4ODAsMTg4LjgyODEgTDg5MCwxODguODI4MSBMODgwLDE3OC44MjgxICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDIxIiB4PSI0NTQiIHk9IjE5NS44OTUiPuWcqFhPUi1SRUxBWUVELUFERFJFU1PlrZfmrrXov5Tlm55zZXJ2ZXLnmoRwdWJsaWMgSVDvvIzlnKjphY3nva7kuK3ojrflj5Y8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIyMjkuNSwyMzAuMDkzOCwyMTkuNSwyMzQuMDkzOCwyMjkuNSwyMzguMDkzOCwyMjUuNSwyMzQuMDkzOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjIzLjUiIHgyPSI0MzcuNSIgeTE9IjIzNC4wOTM4IiB5Mj0iMjM0LjA5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzQiIHg9IjIzNS41IiB5PSIyMjkuMDI3OCI+QWxsb2NhdGUgU3VjY2VzcyBSZXNwb25zZTwvdGV4dD48cGF0aCBkPSJNMTc5LDI1Ni4wOTM4IEwyNjYsMjU2LjA5MzggTDI2NiwyNjMuMDkzOCBMMjU2LDI3My4wOTM4IEwxNzksMjczLjA5MzggTDE3OSwyNTYuMDkzOCAiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNzUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iMzAxIiB4PSIxNzkiIHk9IjI1Ni4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQyIiB4PSIxOTQiIHk9IjI2OS4xNjA2Ij7kuI3lj6/ovr48L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0MjYuNSwyOTAuMzU5NCw0MzYuNSwyOTQuMzU5NCw0MjYuNSwyOTguMzU5NCw0MzAuNSwyOTQuMzU5NCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjE4LjUiIHgyPSI0MzIuNSIgeTE9IjI5NC4zNTk0IiB5Mj0iMjk0LjM1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTEiIHg9IjIyNS41IiB5PSIyODkuMjkzNSI+U1RVTjogQWxsb2NhdGUgUmVxdWVzdDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjIyOS41LDMxOS40OTIyLDIxOS41LDMyMy40OTIyLDIyOS41LDMyNy40OTIyLDIyNS41LDMyMy40OTIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMjMuNSIgeDI9IjQzNy41IiB5MT0iMzIzLjQ5MjIiIHkyPSIzMjMuNDkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5NiIgeD0iMjM1LjUiIHk9IjMxOC40MjYzIj5JQ01QOiBEZXN0aW5hdGlvbiBVbnJlYWNoYWJsZTwvdGV4dD48IS0tTUQ1PVszN2Q2NmFjMjMxYzBhNTkyZWU2MmEzMDg5YzVjZjZlZl0KQHN0YXJ0dW1sDQpza2lucGFyYW0gTm90ZUJhY2tncm91bmRDb2xvciB3aGl0ZQ0KDQpncm91cCBBbGxvY2F0ZSDljL/lkI0NCmNsaWVudCAtPiBzZXJ2ZXIgOiBBbGxvY2F0ZSBSZXF1ZXN0DQphY3RpdmF0ZSBzZXJ2ZXINCm5vdGUgbGVmdDog5bCd6K+V5L2/55So5Yy/5ZCN55qE6K+35rGCDQpzZXJ2ZXIgLT4gY2xpZW50IDogQWxsb2NhdGUgRXJyb3IgUmVzcG9uc2UNCmRlYWN0aXZhdGUgc2VydmVyDQplbmQNCg0KDQpncm91cCBBbGxvY2F0ZSDplb/mlYjpibTmnYMNCmNsaWVudCAtPiBzZXJ2ZXIgOiBBbGxvY2F0ZSBSZXF1ZXN0IHdpdGggbm9uY2UNCmFjdGl2YXRlIHNlcnZlcg0Kbm90ZSBsZWZ0OiDljL/lkI3or7fmsYLlpLHotKXvvIzkvb/nlKjpibTmnYPmlrnlvI8NCm5vdGUgcmlnaHQ6IOWcqFhPUi1SRUxBWUVELUFERFJFU1PlrZfmrrXov5Tlm55zZXJ2ZXLnmoRwdWJsaWMgSVDvvIzlnKjphY3nva7kuK3ojrflj5YNCnNlcnZlciAtPiBjbGllbnQgOiBBbGxvY2F0ZSBTdWNjZXNzIFJlc3BvbnNlDQpkZWFjdGl2YXRlIHNlcnZlcg0KZW5kDQoNCmdyb3VwIOS4jeWPr+i+vg0KY2xpZW50IC0+IHNlcnZlciA6IFNUVU46IEFsbG9jYXRlIFJlcXVlc3QNCnNlcnZlciAtPiBjbGllbnQgOiBJQ01QOiBEZXN0aW5hdGlvbiBVbnJlYWNoYWJsZQ0KZW5kDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjEuMTdiZXRhMTAoVW5rbm93biBjb21waWxlIHRpbWUpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiBlbgpDb3VudHJ5OiBVUwotLT48L2c+PC9zdmc+'>

<h4 id="数据交换之转发机制"><a href="#数据交换之转发机制" class="headerlink" title="数据交换之转发机制"></a>数据交换之转发机制</h4><p>使用Indication标识转发数据，Send和Data不支持长效验证，因此需要先获得permission再开始indication发送数据。一旦permission建立，信任这个address发来的数据，时效5min，且无法通过收发数据刷新时效。</p>
<p>webrtc使用indication做连通性测试，即Ping。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzcwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxMTQ2cHg7aGVpZ2h0OjM3MHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDExNDYgMzcwIiB3aWR0aD0iMTE0NnB4IiB6b29tQW5kUGFuPSJtYWduaWZ5Ij48ZGVmcz48ZmlsdGVyIGhlaWdodD0iMzAwJSIgaWQ9ImYxd2E4ODRrZHkyaTVhIiB3aWR0aD0iMzAwJSIgeD0iLTEiIHk9Ii0xIj48ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJibHVyT3V0IiBzdGREZXZpYXRpb249IjIuMCIvPjxmZUNvbG9yTWF0cml4IGluPSJibHVyT3V0IiByZXN1bHQ9ImJsdXJPdXQyIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgLjQgMCIvPjxmZU9mZnNldCBkeD0iNC4wIiBkeT0iNC4wIiBpbj0iYmx1ck91dDIiIHJlc3VsdD0iYmx1ck91dDMiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJibHVyT3V0MyIgbW9kZT0ibm9ybWFsIi8+PC9maWx0ZXI+PC9kZWZzPjxnPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIGhlaWdodD0iMzQuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjY2MS41IiB5PSIxMDAuNTYyNSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjY2MS41IiB5PSIyMDQuOTYwOSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIGhlaWdodD0iODUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iNzcwLjUiIHg9IjM2MiIgeT0iNTcuMjk2OSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIGhlaWdodD0iMTUzLjY2NDEiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6Mi4wOyIgd2lkdGg9Ijg2OC41IiB4PSI5IiB5PSIxNTYuNjk1MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI0MDEiIHgyPSI0MDEiIHkxPSI0MC4yOTY5IiB5Mj0iMzI3LjM1OTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNjY2IiB4Mj0iNjY2IiB5MT0iNDAuMjk2OSIgeTI9IjMyNy4zNTk0Ii8+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2Yxd2E4ODRrZHkyaTVhKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1NSIgeD0iMzcyIiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEiIHg9IjM3OSIgeT0iMjQuOTk1MSI+Y2xpZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTUiIHg9IjM3MiIgeT0iMzI2LjM1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMzc5IiB5PSIzNDYuMzU0NSI+Y2xpZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTkiIHg9IjYzNSIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1IiB4PSI2NDIiIHk9IjI0Ljk5NTEiPnNlcnZlcjwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjF3YTg4NGtkeTJpNWEpIiBoZWlnaHQ9IjMwLjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjU5IiB4PSI2MzUiIHk9IjMyNi4zNTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUiIHg9IjY0MiIgeT0iMzQ2LjM1NDUiPnNlcnZlcjwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjF3YTg4NGtkeTJpNWEpIiBoZWlnaHQ9IjM0LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjEuNSIgeT0iMTAwLjU2MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjF3YTg4NGtkeTJpNWEpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjEuNSIgeT0iMjA0Ljk2MDkiLz48cGF0aCBkPSJNMzYyLDU3LjI5NjkgTDQzOSw1Ny4yOTY5IEw0MzksNjQuMjk2OSBMNDI5LDc0LjI5NjkgTDM2Miw3NC4yOTY5IEwzNjIsNTcuMjk2OSAiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iNzcwLjUiIHg9IjM2MiIgeT0iNTcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iMzc3IiB5PSI3MC4zNjM4Ij5QaW5nPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNjQ5LjUsOTYuNTYyNSw2NTkuNSwxMDAuNTYyNSw2NDkuNSwxMDQuNTYyNSw2NTMuNSwxMDAuNTYyNSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDAxLjUiIHgyPSI2NTUuNSIgeTE9IjEwMC41NjI1IiB5Mj0iMTAwLjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDMiIHg9IjQwOC41IiB5PSI5NS40OTY2Ij5CaW5kaW5nIFJlcXVlc3Q8L3RleHQ+PHBhdGggZD0iTTY3Niw3OS40Mjk3IEw2NzYsMTA0LjQyOTcgTDExMjMsMTA0LjQyOTcgTDExMjMsODkuNDI5NyBMMTExMyw3OS40Mjk3IEw2NzYsNzkuNDI5NyAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xMTEzLDc5LjQyOTcgTDExMTMsODkuNDI5NyBMMTEyMyw4OS40Mjk3IEwxMTEzLDc5LjQyOTcgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MjYiIHg9IjY4MiIgeT0iOTYuNDk2NiI+5ZyoWE9SLU1BUFBFRC1BRERSRVNT5a2X5q616L+U5ZueY2xpZW5055qEZXh0ZXJuYWwgSVDvvIxzZXJ2ZXLnnIvliLDnmoQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0MTIuNSwxMzAuNjk1Myw0MDIuNSwxMzQuNjk1Myw0MTIuNSwxMzguNjk1Myw0MDguNSwxMzQuNjk1MyIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDA2LjUiIHgyPSI2NjUuNSIgeTE9IjEzNC42OTUzIiB5Mj0iMTM0LjY5NTMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjkiIHg9IjQxOC41IiB5PSIxMjkuNjI5NCI+QmluZGluZyBTdWNjZXNzIFJlc3BvbnNlPC90ZXh0PjxwYXRoIGQ9Ik05LDE1Ni42OTUzIEwxMTAsMTU2LjY5NTMgTDExMCwxNjMuNjk1MyBMMTAwLDE3My42OTUzIEw5LDE3My42OTUzIEw5LDE1Ni42OTUzICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxNTMuNjY0MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iODY4LjUiIHg9IjkiIHk9IjE1Ni42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU2IiB4PSIyNCIgeT0iMTY5Ljc2MjIiPui9rOWPkeaVsOaNrjwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjY0OS41LDIwMC45NjA5LDY1OS41LDIwNC45NjA5LDY0OS41LDIwOC45NjA5LDY1My41LDIwNC45NjA5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MDEuNSIgeDI9IjY1NS41IiB5MT0iMjA0Ljk2MDkiIHkyPSIyMDQuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MCIgeD0iNDA4LjUiIHk9IjE5OS44OTUiPkNyZWF0ZVBlcm1pc3Npb24gUmVxdWVzdDwvdGV4dD48cGF0aCBkPSJNMTksMTc4LjgyODEgTDE5LDIwMy44MjgxIEwzOTIsMjAzLjgyODEgTDM5MiwxODguODI4MSBMMzgyLDE3OC44MjgxIEwxOSwxNzguODI4MSAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMXdhODg0a2R5Mmk1YSkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zODIsMTc4LjgyODEgTDM4MiwxODguODI4MSBMMzkyLDE4OC44MjgxIEwzODIsMTc4LjgyODEgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNTIiIHg9IjI1IiB5PSIxOTUuODk1Ij7luKbkuIrpibTmnYPkv6Hmga/vvIxYT1ItUEVFUi1BRERSRVNT5aGrY2xpZW5055qEZXh0ZXJuYWwgSVA8L3RleHQ+PHBhdGggZD0iTTY3NiwxNzguODI4MSBMNjc2LDIwMy44MjgxIEw4NDUsMjAzLjgyODEgTDg0NSwxODguODI4MSBMODM1LDE3OC44MjgxIEw2NzYsMTc4LjgyODEgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjF3YTg4NGtkeTJpNWEpIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNODM1LDE3OC44MjgxIEw4MzUsMTg4LjgyODEgTDg0NSwxODguODI4MSBMODM1LDE3OC44MjgxICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ4IiB4PSI2ODIiIHk9IjE5NS44OTUiPuiusOW9leWcqHBlcm1pc3Npb27liJfooajkuK08L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0MTIuNSwyMzAuMDkzOCw0MDIuNSwyMzQuMDkzOCw0MTIuNSwyMzguMDkzOCw0MDguNSwyMzQuMDkzOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDA2LjUiIHgyPSI2NjUuNSIgeTE9IjIzNC4wOTM4IiB5Mj0iMjM0LjA5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMzYiIHg9IjQxOC41IiB5PSIyMjkuMDI3OCI+Q3JlYXRlUGVybWlzc2lvbiBTdWNjZXNzIFJlc3BvbnNlPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNjU0LjUsMjY0LjIyNjYsNjY0LjUsMjY4LjIyNjYsNjU0LjUsMjcyLjIyNjYsNjU4LjUsMjY4LjIyNjYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQwMS41IiB4Mj0iNjYwLjUiIHkxPSIyNjguMjI2NiIgeTI9IjI2OC4yMjY2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTciIHg9IjQwOC41IiB5PSIyNjMuMTYwNiI+U2VuZCBJbmRpY2F0aW9uPC90ZXh0PjxwYXRoIGQ9Ik02NzEsMjQ3LjA5MzggTDY3MSwyNzIuMDkzOCBMODU4LDI3Mi4wOTM4IEw4NTgsMjU3LjA5MzggTDg0OCwyNDcuMDkzOCBMNjcxLDI0Ny4wOTM4ICIgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Yxd2E4ODRrZHkyaTVhKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTg0OCwyNDcuMDkzOCBMODQ4LDI1Ny4wOTM4IEw4NTgsMjU3LjA5MzggTDg0OCwyNDcuMDkzOCAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NiIgeD0iNjc3IiB5PSIyNjQuMTYwNiI+5LuOREFUQeWtl+auteino+aekOW5tui9rOWPkeaVsOaNrjwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQxMi41LDI5OC4zNTk0LDQwMi41LDMwMi4zNTk0LDQxMi41LDMwNi4zNTk0LDQwOC41LDMwMi4zNTk0IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MDYuNSIgeDI9IjY2NS41IiB5MT0iMzAyLjM1OTQiIHkyPSIzMDIuMzU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2IiB4PSI0MTguNSIgeT0iMjk3LjI5MzUiPkRhdGEgSW5kaWNhdGlvbjwvdGV4dD48IS0tTUQ1PVthMDM4MzM3YTU2YzhkOGY1MGZmNzM1MGE5M2FhNDZiZl0KQHN0YXJ0dW1sDQpza2lucGFyYW0gTm90ZUJhY2tncm91bmRDb2xvciB3aGl0ZQ0KDQpncm91cCBQaW5nDQpjbGllbnQgLT4gc2VydmVyIDogQmluZGluZyBSZXF1ZXN0DQphY3RpdmF0ZSBzZXJ2ZXINCm5vdGUgcmlnaHQ6IOWcqFhPUi1NQVBQRUQtQUREUkVTU+Wtl+autei/lOWbnmNsaWVudOeahGV4dGVybmFsIElQ77yMc2VydmVy55yL5Yiw55qEDQpzZXJ2ZXIgLT4gY2xpZW50IDogQmluZGluZyBTdWNjZXNzIFJlc3BvbnNlDQpkZWFjdGl2YXRlIHNlcnZlcg0KZW5kDQoNCmdyb3VwIOi9rOWPkeaVsOaNrg0KY2xpZW50IC0+IHNlcnZlciA6IENyZWF0ZVBlcm1pc3Npb24gUmVxdWVzdA0KYWN0aXZhdGUgc2VydmVyDQpub3RlIGxlZnQ6IOW4puS4iumJtOadg+S/oeaBr++8jFhPUi1QRUVSLUFERFJFU1PloatjbGllbnTnmoRleHRlcm5hbCBJUA0Kbm90ZSByaWdodDog6K6w5b2V5ZyocGVybWlzc2lvbuWIl+ihqOS4rQ0Kc2VydmVyIC0+IGNsaWVudCA6IENyZWF0ZVBlcm1pc3Npb24gU3VjY2VzcyBSZXNwb25zZQ0KZGVhY3RpdmF0ZSBzZXJ2ZXINCg0KY2xpZW50IC0+IHNlcnZlciA6IFNlbmQgSW5kaWNhdGlvbg0Kbm90ZSByaWdodDog5LuOREFUQeWtl+auteino+aekOW5tui9rOWPkeaVsOaNrg0Kc2VydmVyIC0+IGNsaWVudCA6IERhdGEgSW5kaWNhdGlvbg0KDQplbmQNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMS4xN2JldGExMChVbmtub3duIGNvbXBpbGUgdGltZSkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4='>

<h4 id="数据交换之信道机制"><a href="#数据交换之信道机制" class="headerlink" title="数据交换之信道机制"></a>数据交换之信道机制</h4><p><code>send/data indication</code>添加在stun的应用层的头部，需要36字节的开销，在有些带宽资源敏感的场景，比如VoIP，就显著增加了带宽。turn提供了ChannelData消息格式做数据交换。</p>
<p>ChannelData不使用stun应用头部，而是使用4字节的信道号做标识。client在request消息带上未绑定的信道编号和地址信息给server，server若同意绑定，client就可以使用这个信道编号发送ChannelData消息给目的peer，server也可以通过这个信道转发数据给client。</p>
<p>channel时效10min，ChannelData消息或重新绑定channel到peer都可以刷新channel的时效，但是它只能过期，不能像indication通过设置lifetime=0立即失效。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzcwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxMTQ2cHg7aGVpZ2h0OjM3MHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDExNDYgMzcwIiB3aWR0aD0iMTE0NnB4IiB6b29tQW5kUGFuPSJtYWduaWZ5Ij48ZGVmcz48ZmlsdGVyIGhlaWdodD0iMzAwJSIgaWQ9ImZiZjYwODlvcnNwc2QiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2ZiZjYwODlvcnNwc2QpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjEuNSIgeT0iMTA1LjU2MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZmJmNjA4OW9yc3BzZCkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjY2MS41IiB5PSIyMDQuOTYwOSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgaGVpZ2h0PSI4NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjIuMDsiIHdpZHRoPSIxMDgwIiB4PSI1MiIgeT0iNTcuMjk2OSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgaGVpZ2h0PSIxNTMuNjY0MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iODY4LjUiIHg9IjkiIHk9IjE1Ni42OTUzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjQwMSIgeDI9IjQwMSIgeTE9IjQwLjI5NjkiIHkyPSIzMjcuMzU5NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI2NjYiIHgyPSI2NjYiIHkxPSI0MC4yOTY5IiB5Mj0iMzI3LjM1OTQiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmJmNjA4OW9yc3BzZCkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTUiIHg9IjM3MiIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxIiB4PSIzNzkiIHk9IjI0Ljk5NTEiPmNsaWVudDwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmJmNjA4OW9yc3BzZCkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTUiIHg9IjM3MiIgeT0iMzI2LjM1OTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMzc5IiB5PSIzNDYuMzU0NSI+Y2xpZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1OSIgeD0iNjM1IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUiIHg9IjY0MiIgeT0iMjQuOTk1MSI+c2VydmVyPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1OSIgeD0iNjM1IiB5PSIzMjYuMzU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1IiB4PSI2NDIiIHk9IjM0Ni4zNTQ1Ij5zZXJ2ZXI8L3RleHQ+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2ZiZjYwODlvcnNwc2QpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjEuNSIgeT0iMTA1LjU2MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZmJmNjA4OW9yc3BzZCkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjY2MS41IiB5PSIyMDQuOTYwOSIvPjxwYXRoIGQ9Ik01Miw1Ny4yOTY5IEwxODIsNTcuMjk2OSBMMTgyLDY0LjI5NjkgTDE3Miw3NC4yOTY5IEw1Miw3NC4yOTY5IEw1Miw1Ny4yOTY5ICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI4NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjIuMDsiIHdpZHRoPSIxMDgwIiB4PSI1MiIgeT0iNTcuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NSIgeD0iNjciIHk9IjcwLjM2MzgiPuWIhumFjWNoYW5uZWw8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI2NDkuNSwxMDEuNTYyNSw2NTkuNSwxMDUuNTYyNSw2NDkuNSwxMDkuNTYyNSw2NTMuNSwxMDUuNTYyNSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDAxLjUiIHgyPSI2NTUuNSIgeTE9IjEwNS41NjI1IiB5Mj0iMTA1LjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEiIHg9IjQwOC41IiB5PSIxMDAuNDk2NiI+Q2hhbm5lbC1CaW5kIFJlcXVlc3Q8L3RleHQ+PHBhdGggZD0iTTYyLDc5LjQyOTcgTDYyLDEwNC40Mjk3IEwzOTIsMTA0LjQyOTcgTDM5Miw4OS40Mjk3IEwzODIsNzkuNDI5NyBMNjIsNzkuNDI5NyAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM4Miw3OS40Mjk3IEwzODIsODkuNDI5NyBMMzkyLDg5LjQyOTcgTDM4Miw3OS40Mjk3ICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzA5IiB4PSI2OCIgeT0iOTYuNDk2NiI+5bim5LiK5YiG6YWN5aW955qEY2hhbm5lbCBudW1iZXLlkox0cmFuc3BvcnQgYWRkcmVzczwvdGV4dD48cGF0aCBkPSJNNjc2LDc5LjQyOTcgTDY3NiwxMDQuNDI5NyBMMTEyMywxMDQuNDI5NyBMMTEyMyw4OS40Mjk3IEwxMTEzLDc5LjQyOTcgTDY3Niw3OS40Mjk3ICIgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2ZiZjYwODlvcnNwc2QpIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTExMyw3OS40Mjk3IEwxMTEzLDg5LjQyOTcgTDExMjMsODkuNDI5NyBMMTExMyw3OS40Mjk3ICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDI2IiB4PSI2ODIiIHk9Ijk2LjQ5NjYiPuWcqFhPUi1NQVBQRUQtQUREUkVTU+Wtl+autei/lOWbnmNsaWVudOeahGV4dGVybmFsIElQ77yMc2VydmVy55yL5Yiw55qEPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNDEyLjUsMTMwLjY5NTMsNDAyLjUsMTM0LjY5NTMsNDEyLjUsMTM4LjY5NTMsNDA4LjUsMTM0LjY5NTMiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQwNi41IiB4Mj0iNjY1LjUiIHkxPSIxMzQuNjk1MyIgeTI9IjEzNC42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA3IiB4PSI0MTguNSIgeT0iMTI5LjYyOTQiPkNoYW5uZWwtQmluZCBTdWNjZXNzIFJlc3BvbnNlPC90ZXh0PjxwYXRoIGQ9Ik05LDE1Ni42OTUzIEwxMTAsMTU2LjY5NTMgTDExMCwxNjMuNjk1MyBMMTAwLDE3My42OTUzIEw5LDE3My42OTUzIEw5LDE1Ni42OTUzICIgZmlsbD0iI0VFRUVFRSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxNTMuNjY0MSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iODY4LjUiIHg9IjkiIHk9IjE1Ni42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU2IiB4PSIyNCIgeT0iMTY5Ljc2MjIiPui9rOWPkeaVsOaNrjwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjY0OS41LDIwMC45NjA5LDY1OS41LDIwNC45NjA5LDY0OS41LDIwOC45NjA5LDY1My41LDIwNC45NjA5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MDEuNSIgeDI9IjY1NS41IiB5MT0iMjA0Ljk2MDkiIHkyPSIyMDQuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MCIgeD0iNDA4LjUiIHk9IjE5OS44OTUiPkNyZWF0ZVBlcm1pc3Npb24gUmVxdWVzdDwvdGV4dD48cGF0aCBkPSJNMTksMTc4LjgyODEgTDE5LDIwMy44MjgxIEwzOTIsMjAzLjgyODEgTDM5MiwxODguODI4MSBMMzgyLDE3OC44MjgxIEwxOSwxNzguODI4MSAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM4MiwxNzguODI4MSBMMzgyLDE4OC44MjgxIEwzOTIsMTg4LjgyODEgTDM4MiwxNzguODI4MSAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM1MiIgeD0iMjUiIHk9IjE5NS44OTUiPuW4puS4iumJtOadg+S/oeaBr++8jFhPUi1QRUVSLUFERFJFU1PloatjbGllbnTnmoRleHRlcm5hbCBJUDwvdGV4dD48cGF0aCBkPSJNNjc2LDE3OC44MjgxIEw2NzYsMjAzLjgyODEgTDg0NSwyMDMuODI4MSBMODQ1LDE4OC44MjgxIEw4MzUsMTc4LjgyODEgTDY3NiwxNzguODI4MSAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTgzNSwxNzguODI4MSBMODM1LDE4OC44MjgxIEw4NDUsMTg4LjgyODEgTDgzNSwxNzguODI4MSAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0OCIgeD0iNjgyIiB5PSIxOTUuODk1Ij7orrDlvZXlnKhwZXJtaXNzaW9u5YiX6KGo5LitPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNDEyLjUsMjMwLjA5MzgsNDAyLjUsMjM0LjA5MzgsNDEyLjUsMjM4LjA5MzgsNDA4LjUsMjM0LjA5MzgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQwNi41IiB4Mj0iNjY1LjUiIHkxPSIyMzQuMDkzOCIgeTI9IjIzNC4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjM2IiB4PSI0MTguNSIgeT0iMjI5LjAyNzgiPkNyZWF0ZVBlcm1pc3Npb24gU3VjY2VzcyBSZXNwb25zZTwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjY1NC41LDI2NC4yMjY2LDY2NC41LDI2OC4yMjY2LDY1NC41LDI3Mi4yMjY2LDY1OC41LDI2OC4yMjY2IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MDEuNSIgeDI9IjY2MC41IiB5MT0iMjY4LjIyNjYiIHkyPSIyNjguMjI2NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk3IiB4PSI0MDguNSIgeT0iMjYzLjE2MDYiPlNlbmQgSW5kaWNhdGlvbjwvdGV4dD48cGF0aCBkPSJNNjcxLDI0Ny4wOTM4IEw2NzEsMjcyLjA5MzggTDg1OCwyNzIuMDkzOCBMODU4LDI1Ny4wOTM4IEw4NDgsMjQ3LjA5MzggTDY3MSwyNDcuMDkzOCAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmYmY2MDg5b3JzcHNkKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTg0OCwyNDcuMDkzOCBMODQ4LDI1Ny4wOTM4IEw4NTgsMjU3LjA5MzggTDg0OCwyNDcuMDkzOCAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NiIgeD0iNjc3IiB5PSIyNjQuMTYwNiI+5LuOREFUQeWtl+auteino+aekOW5tui9rOWPkeaVsOaNrjwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQxMi41LDI5OC4zNTk0LDQwMi41LDMwMi4zNTk0LDQxMi41LDMwNi4zNTk0LDQwOC41LDMwMi4zNTk0IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MDYuNSIgeDI9IjY2NS41IiB5MT0iMzAyLjM1OTQiIHkyPSIzMDIuMzU5NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk2IiB4PSI0MTguNSIgeT0iMjk3LjI5MzUiPkRhdGEgSW5kaWNhdGlvbjwvdGV4dD48IS0tTUQ1PVs1NWMxMzJkN2Y2ODBhZDZlODM0ZjA5NmNlMDgzYTA0Nl0KQHN0YXJ0dW1sDQpza2lucGFyYW0gTm90ZUJhY2tncm91bmRDb2xvciB3aGl0ZQ0KDQpncm91cCDliIbphY1jaGFubmVsDQpjbGllbnQgLT4gc2VydmVyIDogQ2hhbm5lbC1CaW5kIFJlcXVlc3QNCmFjdGl2YXRlIHNlcnZlcg0Kbm90ZSBsZWZ0OiDluKbkuIrliIbphY3lpb3nmoRjaGFubmVsIG51bWJlcuWSjHRyYW5zcG9ydCBhZGRyZXNzDQpub3RlIHJpZ2h0OiDlnKhYT1ItTUFQUEVELUFERFJFU1PlrZfmrrXov5Tlm55jbGllbnTnmoRleHRlcm5hbCBJUO+8jHNlcnZlcueci+WIsOeahA0Kc2VydmVyIC0+IGNsaWVudCA6IENoYW5uZWwtQmluZCBTdWNjZXNzIFJlc3BvbnNlDQpkZWFjdGl2YXRlIHNlcnZlcg0KZW5kDQoNCmdyb3VwIOi9rOWPkeaVsOaNrg0KY2xpZW50IC0+IHNlcnZlciA6IENyZWF0ZVBlcm1pc3Npb24gUmVxdWVzdA0KYWN0aXZhdGUgc2VydmVyDQpub3RlIGxlZnQ6IOW4puS4iumJtOadg+S/oeaBr++8jFhPUi1QRUVSLUFERFJFU1PloatjbGllbnTnmoRleHRlcm5hbCBJUA0Kbm90ZSByaWdodDog6K6w5b2V5ZyocGVybWlzc2lvbuWIl+ihqOS4rQ0Kc2VydmVyIC0+IGNsaWVudCA6IENyZWF0ZVBlcm1pc3Npb24gU3VjY2VzcyBSZXNwb25zZQ0KZGVhY3RpdmF0ZSBzZXJ2ZXINCg0KY2xpZW50IC0+IHNlcnZlciA6IFNlbmQgSW5kaWNhdGlvbg0Kbm90ZSByaWdodDog5LuOREFUQeWtl+auteino+aekOW5tui9rOWPkeaVsOaNrg0Kc2VydmVyIC0+IGNsaWVudCA6IERhdGEgSW5kaWNhdGlvbg0KDQplbmQNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAyMS4xN2JldGExMChVbmtub3duIGNvbXBpbGUgdGltZSkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IEphdmEoVE0pIFNFIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBKYXZhIEhvdFNwb3QoVE0pIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4='>



<h4 id="保活机制"><a href="#保活机制" class="headerlink" title="保活机制"></a>保活机制</h4><p>中继分配好之后，中继信息存在server的allocation map里，客户端需要发送refresh消息进行保活，refresh消息也必须带上鉴权信息。<br>server每次收到新的refresh请求，更新lifetime，给allocation续期。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzAycHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo2NjBweDtoZWlnaHQ6MzAycHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNjYwIDMwMiIgd2lkdGg9IjY2MHB4IiB6b29tQW5kUGFuPSJtYWduaWZ5Ij48ZGVmcz48ZmlsdGVyIGhlaWdodD0iMzAwJSIgaWQ9ImYxY3p2cWJqNGJnZmdtIiB3aWR0aD0iMzAwJSIgeD0iLTEiIHk9Ii0xIj48ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJibHVyT3V0IiBzdGREZXZpYXRpb249IjIuMCIvPjxmZUNvbG9yTWF0cml4IGluPSJibHVyT3V0IiByZXN1bHQ9ImJsdXJPdXQyIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgLjQgMCIvPjxmZU9mZnNldCBkeD0iNC4wIiBkeT0iNC4wIiBpbj0iYmx1ck91dDIiIHJlc3VsdD0iYmx1ck91dDMiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJibHVyT3V0MyIgbW9kZT0ibm9ybWFsIi8+PC9maWx0ZXI+PC9kZWZzPjxnPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMWN6dnFiajRiZ2ZnbSkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjM4Mi41IiB5PSIxMDUuNTYyNSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMWN6dnFiajRiZ2ZnbSkiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjM4Mi41IiB5PSIyMDQuOTYwOSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMWN6dnFiajRiZ2ZnbSkiIGhlaWdodD0iODUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iNTY4IiB4PSI5IiB5PSI1Ny4yOTY5Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YxY3p2cWJqNGJnZmdtKSIgaGVpZ2h0PSI4NS4zOTg0IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjIuMDsiIHdpZHRoPSI1NjciIHg9Ijc5IiB5PSIxNTYuNjk1MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxODUiIHgyPSIxODUiIHkxPSI0MC4yOTY5IiB5Mj0iMjU5LjA5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMzg3IiB4Mj0iMzg3IiB5MT0iNDAuMjk2OSIgeTI9IjI1OS4wOTM4Ii8+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxY3p2cWJqNGJnZmdtKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1NSIgeD0iMTU2IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEiIHg9IjE2MyIgeT0iMjQuOTk1MSI+Y2xpZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMWN6dnFiajRiZ2ZnbSkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTUiIHg9IjE1NiIgeT0iMjU4LjA5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMTYzIiB5PSIyNzguMDg4OSI+Y2xpZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMWN6dnFiajRiZ2ZnbSkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTkiIHg9IjM1NiIgeT0iNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ1IiB4PSIzNjMiIHk9IjI0Ljk5NTEiPnNlcnZlcjwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjFjenZxYmo0YmdmZ20pIiBoZWlnaHQ9IjMwLjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjU5IiB4PSIzNTYiIHk9IjI1OC4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUiIHg9IjM2MyIgeT0iMjc4LjA4ODkiPnNlcnZlcjwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjFjenZxYmo0YmdmZ20pIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSIzODIuNSIgeT0iMTA1LjU2MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjFjenZxYmo0YmdmZ20pIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSIzODIuNSIgeT0iMjA0Ljk2MDkiLz48cGF0aCBkPSJNOSw1Ny4yOTY5IEwxNTcsNTcuMjk2OSBMMTU3LDY0LjI5NjkgTDE0Nyw3NC4yOTY5IEw5LDc0LjI5NjkgTDksNTcuMjk2OSAiIGZpbGw9IiNFRUVFRUUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iODUuMzk4NCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjA7IiB3aWR0aD0iNTY4IiB4PSI5IiB5PSI1Ny4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwMyIgeD0iMjQiIHk9IjcwLjM2MzgiPue7reacn2FsbG9jYXRpb248L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIzNzAuNSwxMDEuNTYyNSwzODAuNSwxMDUuNTYyNSwzNzAuNSwxMDkuNTYyNSwzNzQuNSwxMDUuNTYyNSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTg1LjUiIHgyPSIzNzYuNSIgeTE9IjEwNS41NjI1IiB5Mj0iMTA1LjU2MjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDciIHg9IjE5Mi41IiB5PSIxMDAuNDk2NiI+UmVmcmVzaCBSZXF1ZXN0PC90ZXh0PjxwYXRoIGQ9Ik0xOSw3OS40Mjk3IEwxOSwxMDQuNDI5NyBMMTc2LDEwNC40Mjk3IEwxNzYsODkuNDI5NyBMMTY2LDc5LjQyOTcgTDE5LDc5LjQyOTcgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjFjenZxYmo0YmdmZ20pIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTY2LDc5LjQyOTcgTDE2Niw4OS40Mjk3IEwxNzYsODkuNDI5NyBMMTY2LDc5LjQyOTcgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYiIHg9IjI1IiB5PSI5Ni40OTY2Ij5saWZldGltZSZndDsw77yM6buY6K6kNjAwczwvdGV4dD48cGF0aCBkPSJNMzk3LDc5LjQyOTcgTDM5NywxMDQuNDI5NyBMNTY4LDEwNC40Mjk3IEw1NjgsODkuNDI5NyBMNTU4LDc5LjQyOTcgTDM5Nyw3OS40Mjk3ICIgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2YxY3p2cWJqNGJnZmdtKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTU1OCw3OS40Mjk3IEw1NTgsODkuNDI5NyBMNTY4LDg5LjQyOTcgTDU1OCw3OS40Mjk3ICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUwIiB4PSI0MDMiIHk9Ijk2LjQ5NjYiPnNldCBsaWZldGltZe+8jOWIt+aWsOWumuaXtuWZqDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE5Ni41LDEzMC42OTUzLDE4Ni41LDEzNC42OTUzLDE5Ni41LDEzOC42OTUzLDE5Mi41LDEzNC42OTUzIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxOTAuNSIgeDI9IjM4Ni41IiB5MT0iMTM0LjY5NTMiIHkyPSIxMzQuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MyIgeD0iMjAyLjUiIHk9IjEyOS42Mjk0Ij5SZWZyZXNoIFN1Y2Nlc3MgUmVzcG9uc2U8L3RleHQ+PHBhdGggZD0iTTc5LDE1Ni42OTUzIEwyNjksMTU2LjY5NTMgTDI2OSwxNjMuNjk1MyBMMjU5LDE3My42OTUzIEw3OSwxNzMuNjk1MyBMNzksMTU2LjY5NTMgIiBmaWxsPSIjRUVFRUVFIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9Ijg1LjM5ODQiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6Mi4wOyIgd2lkdGg9IjU2NyIgeD0iNzkiIHk9IjE1Ni42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NSIgeD0iOTQiIHk9IjE2OS43NjIyIj5EaXNjb25uZWN0IOaWreW8gOi/nuaOpTwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjM3MC41LDIwMC45NjA5LDM4MC41LDIwNC45NjA5LDM3MC41LDIwOC45NjA5LDM3NC41LDIwNC45NjA5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxODUuNSIgeDI9IjM3Ni41IiB5MT0iMjA0Ljk2MDkiIHkyPSIyMDQuOTYwOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNyIgeD0iMTkyLjUiIHk9IjE5OS44OTUiPlJlZnJlc2ggUmVxdWVzdDwvdGV4dD48cGF0aCBkPSJNODksMTc4LjgyODEgTDg5LDIwMy44MjgxIEwxNzYsMjAzLjgyODEgTDE3NiwxODguODI4MSBMMTY2LDE3OC44MjgxIEw4OSwxNzguODI4MSAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmMWN6dnFiajRiZ2ZnbSkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xNjYsMTc4LjgyODEgTDE2NiwxODguODI4MSBMMTc2LDE4OC44MjgxIEwxNjYsMTc4LjgyODEgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NiIgeD0iOTUiIHk9IjE5NS44OTUiPmxpZmV0aW1lPTA8L3RleHQ+PHBhdGggZD0iTTM5NywxNzguODI4MSBMMzk3LDIwMy44MjgxIEw2MzcsMjAzLjgyODEgTDYzNywxODguODI4MSBMNjI3LDE3OC44MjgxIEwzOTcsMTc4LjgyODEgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZjFjenZxYmo0YmdmZ20pIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNjI3LDE3OC44MjgxIEw2MjcsMTg4LjgyODEgTDYzNywxODguODI4MSBMNjI3LDE3OC44MjgxICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjE5IiB4PSI0MDMiIHk9IjE5NS44OTUiPnN0b3AgbGlmZXRpbWXlrprml7blmajvvIzliKDpmaRhbGxvY2F0aW9uPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTk2LjUsMjMwLjA5MzgsMTg2LjUsMjM0LjA5MzgsMTk2LjUsMjM4LjA5MzgsMTkyLjUsMjM0LjA5MzgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE5MC41IiB4Mj0iMzg2LjUiIHkxPSIyMzQuMDkzOCIgeTI9IjIzNC4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTczIiB4PSIyMDIuNSIgeT0iMjI5LjAyNzgiPlJlZnJlc2ggU3VjY2VzcyBSZXNwb25zZTwvdGV4dD48IS0tTUQ1PVs1OGNiOWRjZTM0YTEwMDQ3OTgwNzUyZTY1YzRlN2Y1ZF0KQHN0YXJ0dW1sDQpza2lucGFyYW0gTm90ZUJhY2tncm91bmRDb2xvciB3aGl0ZQ0KDQpncm91cCDnu63mnJ9hbGxvY2F0aW9uDQpjbGllbnQgLT4gc2VydmVyIDogUmVmcmVzaCBSZXF1ZXN0DQphY3RpdmF0ZSBzZXJ2ZXINCm5vdGUgbGVmdDogbGlmZXRpbWU+MO+8jOm7mOiupDYwMHMNCm5vdGUgcmlnaHQ6IHNldCBsaWZldGltZe+8jOWIt+aWsOWumuaXtuWZqA0Kc2VydmVyIC0+IGNsaWVudCA6IFJlZnJlc2ggU3VjY2VzcyBSZXNwb25zZQ0KZGVhY3RpdmF0ZSBzZXJ2ZXINCmVuZA0KDQpncm91cCBEaXNjb25uZWN0IOaWreW8gOi/nuaOpQ0KY2xpZW50IC0+IHNlcnZlciA6IFJlZnJlc2ggUmVxdWVzdA0KYWN0aXZhdGUgc2VydmVyDQpub3RlIGxlZnQ6IGxpZmV0aW1lPTANCm5vdGUgcmlnaHQ6IHN0b3AgbGlmZXRpbWXlrprml7blmajvvIzliKDpmaRhbGxvY2F0aW9uDQpzZXJ2ZXIgLT4gY2xpZW50IDogUmVmcmVzaCBTdWNjZXNzIFJlc3BvbnNlDQpkZWFjdGl2YXRlIHNlcnZlcg0KZW5kDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjEuMTdiZXRhMTAoVW5rbm93biBjb21waWxlIHRpbWUpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiBlbgpDb3VudHJ5OiBVUwotLT48L2c+PC9zdmc+'>

<h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p><a target="_blank" rel="noopener" href="https://tools.ietf.org/id/draft-ietf-behave-turn-08.html">https://tools.ietf.org/id/draft-ietf-behave-turn-08.html</a></p>
<h3 id="ICE"><a href="#ICE" class="headerlink" title="ICE"></a>ICE</h3><h3 id="interceptor"><a href="#interceptor" class="headerlink" title="interceptor"></a>interceptor</h3><p>处理RTP/RTCP流的框架，它定义了一套处理数据包的interface，实例化函数接口必须按照指定格式进行调用，这个接口定义为<code>Interceptor</code>。</p>
<ul>
<li><p><code>BindRTCPReader</code> 和 <code>BindRTCPWriter</code> 处理incoming和outgoing的RTCP包。</p>
</li>
<li><p><code>BindLocalStream</code> 和 <code>UnbindLocalStream</code> 处理outgoing的RTP包。</p>
</li>
<li><p><code>BindRemoteStream</code> 和 <code>UnbindRemoteStream</code> 处理incoming的RTP包。</p>
</li>
</ul>
<p>chain结构体把interceptor串行在一起，并保证interceptor的执行顺序。</p>
<p>streamInfo是处理媒体流的上下文，用于在interceptor之间传递信息。</p>
<p>对外提供registry结构体，在chain上的又一层封装，暴露Add和Build接口。</p>
<p>它提供了一个<code>type NoOp struct&#123;&#125;</code>的结构体，任何需要实例化interceptor的结构体都可以继承它。</p>
<h4 id="NACK-interceptor的实现"><a href="#NACK-interceptor的实现" class="headerlink" title="NACK interceptor的实现"></a>NACK interceptor的实现</h4><p><code>GeneratorInterceptor</code> 是NACK interceptor对外提供的接口。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> GeneratorInterceptor <span class="keyword">struct</span> &#123;</span><br><span class="line">	interceptor.NoOp <span class="comment">// 继承interceptor</span></span><br><span class="line">	size      <span class="keyword">uint16</span> <span class="comment">// receiveLog参数</span></span><br><span class="line">	skipLastN <span class="keyword">uint16</span> <span class="comment">// receiveLog参数</span></span><br><span class="line">	interval  time.Duration <span class="comment">// 发送RTCP包间隔</span></span><br><span class="line">	m         sync.Mutex <span class="comment">// 这个结构体的锁</span></span><br><span class="line">	wg        sync.WaitGroup <span class="comment">// RTCP writer loop结束才可以关闭的控制</span></span><br><span class="line">	<span class="built_in">close</span>     <span class="keyword">chan</span> <span class="keyword">struct</span>&#123;&#125; <span class="comment">// 控制关闭</span></span><br><span class="line">	log       logging.LeveledLogger</span><br><span class="line"></span><br><span class="line">	receiveLogs   <span class="keyword">map</span>[<span class="keyword">uint32</span>]*receiveLog <span class="comment">// 记录了接收到的sequence number， key为SSRC</span></span><br><span class="line">	receiveLogsMu sync.Mutex <span class="comment">// receiveLog的map锁</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="状态控制"><a href="#状态控制" class="headerlink" title="状态控制"></a>状态控制</h5><p>实例化了interceptor的 <code>UnbindLocalStream</code>和<code>BindRemoteStream</code> 用于处理收到的RTP包， 在收到RTP包时将seq num记录在对应SSRC的receiveLog里。<br>实例化了interceptor的 <code>BindRTCPWriter</code> 用于反馈RTCP包，这里起了一个goroutine异步处理， 按定时器间隔来检查receiveLog。</p>
<h5 id="receiveLog实现"><a href="#receiveLog实现" class="headerlink" title="receiveLog实现"></a>receiveLog实现</h5><p>receiveLog是interceptor里实现NACK的重要结构体，它记录了一段连续的包是否收到的情况。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> receiveLog <span class="keyword">struct</span> &#123;</span><br><span class="line">	packets         []<span class="keyword">uint64</span> <span class="comment">// 记录RTP每个包是否收到的bitmap，使用uint64可标识64个包，因此size必须为64的整数倍</span></span><br><span class="line">	size            <span class="keyword">uint16</span> <span class="comment">// 可记录连续的RTP包的总数量</span></span><br><span class="line">	end             <span class="keyword">uint16</span> <span class="comment">// 记录收到的最后一个seq</span></span><br><span class="line">	started         <span class="keyword">bool</span> <span class="comment">// 第一个包，初始化上下文</span></span><br><span class="line">	lastConsecutive <span class="keyword">uint16</span> <span class="comment">// 记录收到的最后一个连续的seq，查找丢失包时，遍历它到end之间即可</span></span><br><span class="line">	m               sync.RWMutex <span class="comment">// 并发锁</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用uint64数组当bitmap，记录收到的RTP包，收到时将bit置1，删除时置0。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *receiveLog)</span> <span class="title">setReceived</span><span class="params">(seq <span class="keyword">uint16</span>)</span></span> &#123;</span><br><span class="line">	pos := seq % s.size</span><br><span class="line">	s.packets[pos/<span class="number">64</span>] |= <span class="number">1</span> &lt;&lt; (pos % <span class="number">64</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *receiveLog)</span> <span class="title">delReceived</span><span class="params">(seq <span class="keyword">uint16</span>)</span></span> &#123;</span><br><span class="line">	pos := seq % s.size</span><br><span class="line">	s.packets[pos/<span class="number">64</span>] &amp;^= <span class="number">1</span> &lt;&lt; (pos % <span class="number">64</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *receiveLog)</span> <span class="title">getReceived</span><span class="params">(seq <span class="keyword">uint16</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	pos := seq % s.size</span><br><span class="line">	<span class="keyword">return</span> (s.packets[pos/<span class="number">64</span>] &amp; (<span class="number">1</span> &lt;&lt; (pos % <span class="number">64</span>))) != <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>每收到一个包，刷新连续的最后一个位置<code>lastConsecutive</code>和记录seq最大的那个位置<code>end</code>。<br>以便在间隔时间检查需要重传包时，只需遍历从<code>lastConsecutive</code>到<code>end</code>之间的那段bit是否为0即可。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *receiveLog)</span> <span class="title">fixLastConsecutive</span><span class="params">()</span></span> &#123;</span><br><span class="line">	i := s.lastConsecutive + <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> ; i != s.end+<span class="number">1</span> &amp;&amp; s.getReceived(i); i++ &#123;</span><br><span class="line">		<span class="comment">// find all consecutive packets</span></span><br><span class="line">	&#125;</span><br><span class="line">	s.lastConsecutive = i - <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于bitmap的size标识的是一段时间内需要重传的RTP包，每收到一个新的seq时，需要判断这段buffer是否翻转，并清空从end到seq之间的记录。</p>
<h4 id="TWCC-interceptor的实现"><a href="#TWCC-interceptor的实现" class="headerlink" title="TWCC interceptor的实现"></a>TWCC interceptor的实现</h4><h4 id="SR-RR-interceptor的实现"><a href="#SR-RR-interceptor的实现" class="headerlink" title="SR/RR interceptor的实现"></a>SR/RR interceptor的实现</h4><h2 id="ion-sfu"><a href="#ion-sfu" class="headerlink" title="ion-sfu"></a>ion-sfu</h2><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><blockquote>
<p>通过设置环境变量改变pion log的日志级别，例如： export PION_LOG_TRACE=all </p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2021/05/08/2021-05-09-http-long-polling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/08/2021-05-09-http-long-polling/" class="post-title-link" itemprop="url">HttpLongPolling</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-09 00:00:00" itemprop="dateCreated datePublished" datetime="2021-05-09T00:00:00+08:00">2021-05-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/protocol/" itemprop="url" rel="index"><span itemprop="name">protocol</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="HTTP推送技术-Push-technology"><a href="#HTTP推送技术-Push-technology" class="headerlink" title="HTTP推送技术 Push technology"></a>HTTP推送技术 Push technology</h3><p>传统的HTTP请求都是client主动发起到server的请求，若server有通知需要即时通知client时，需要推送技术。</p>
<h4 id="常规轮询-Regular-Polling"><a href="#常规轮询-Regular-Polling" class="headerlink" title="常规轮询 Regular Polling"></a>常规轮询 Regular Polling</h4><p>每隔一段时间pull/get消息。</p>
<ul>
<li>没有消息时浪费资源。</li>
<li>有消息时不能即时推送。</li>
</ul>
<h4 id="长轮询-Long-Polling"><a href="#长轮询-Long-Polling" class="headerlink" title="长轮询 Long Polling"></a>长轮询 Long Polling</h4><ol>
<li><p>请求</p>
<p>client发起请求并把keepalive时间设的较长，服务器收到消息并不立即返回，而是hold一段时间。</p>
</li>
<li><p>响应</p>
<p>当有消息推送时，server立即返回消息。或server的connection hang timeout时，返回消息。server返回消息后，将连接关闭。</p>
</li>
<li><p>循环</p>
<p> client收到response后，应立即再次发起请求。</p>
</li>
</ol>
<h3 id="Long-Polling-vs-Websocket"><a href="#Long-Polling-vs-Websocket" class="headerlink" title="Long Polling vs Websocket"></a>Long Polling vs Websocket</h3><p>Long Polling并不是一种全新的协议，而是基于XMLHttpRequest实现了一种推送机制。最大的优点是过渡期的兼容性好，client无需新增协议，容易适配。<br>同个client若发起多个request连接，消息只返回一次，应通过本地缓存共享推送消息。</p>
<p>websocket协议相对较晚出现，需要client和server端都支持websocket协议，尽管它的握手还是基于HTTP协议，但它在HTTP协议上实现了全双工通信。</p>
<p>websocket几乎解决了Long Polling的所有缺点，只是被断开后不能自恢复。</p>
<h3 id="Apollo在Long-polling的实践"><a href="#Apollo在Long-polling的实践" class="headerlink" title="Apollo在Long polling的实践"></a>Apollo在Long polling的实践</h3><p>Apollo是携程开源的配置中心，提供了带缓存和不带缓存的pull接口，和long polling即时变更推送接口。</p>
<p>为了避免long polling机制的缺陷，使用了版本号等方案。</p>
<ul>
<li><p>Long polling获取的消息时，需要带上本地缓存的notificationId，server端判断client带过来的notificationId是否为最新，若需要更新则立即返回消息，否则等配置有更新才会返回，返回消息携带notificationId，client端更新缓存。这样做的好处是，即使中间断开连接，恢复连接后也可以对比本地是否需要更新配置信息。</p>
</li>
<li><p>client使用pull接口获取配置时，可填参数IP表示client的唯一Id，当需要灰度推送时，根据client携带的IP判断是否给它灰度配置。这样做的好处是，使用逻辑上的Id（IP），相同IP的client可以获取到相同的配置。</p>
</li>
<li><p>client使用pull接口获取配置时，可填参数releaseKey。Apollo每次发布配置时，会为新版本的配置生成releaseKey，使用常规轮询时server端无需每次都查表，可根据releaseKey判断是否需要读取配置。client也无需每次都更新本地缓存的配置。</p>
</li>
</ul>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNTkwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo2ODhweDtoZWlnaHQ6NTkwcHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNjg4IDU5MCIgd2lkdGg9IjY4OHB4IiB6b29tQW5kUGFuPSJtYWduaWZ5Ij48ZGVmcz48ZmlsdGVyIGhlaWdodD0iMzAwJSIgaWQ9ImZtdnJrYmt0Mjkyb2YiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PGVsbGlwc2UgY3g9IjQxMS4zNzUiIGN5PSIyMCIgZmlsbD0iIzAwMDAwMCIgZmlsdGVyPSJ1cmwoI2ZtdnJrYmt0Mjkyb2YpIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZtdnJrYmt0Mjkyb2YpIiBwb2ludHM9IjMyMS44NzUsMTAzLjk2ODgsNTAwLjg3NSwxMDMuOTY4OCw1MTIuODc1LDExNS45Njg4LDUwMC44NzUsMTI3Ljk2ODgsMzIxLjg3NSwxMjcuOTY4OCwzMDkuODc1LDExNS45Njg4LDMyMS44NzUsMTAzLjk2ODgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3OSIgeD0iMzIxLjg3NSIgeT0iMTE5Ljc3NjkiPkFwb2xsbyBjb25maWcgbm9ybWFsIHJlc3BvbnNlPzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMSIgeD0iMjg4Ljg3NSIgeT0iMTEzLjM3NDUiPnllczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNCIgeD0iNTEyLjg3NSIgeT0iMTEzLjM3NDUiPm5vPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmbXZya2JrdDI5Mm9mKSIgcG9pbnRzPSIyMDguMjUsMTM3Ljk2ODgsMzA2LjI1LDEzNy45Njg4LDMxOC4yNSwxNDkuOTY4OCwzMDYuMjUsMTYxLjk2ODgsMjA4LjI1LDE2MS45Njg4LDE5Ni4yNSwxNDkuOTY4OCwyMDguMjUsMTM3Ljk2ODgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk4IiB4PSIyMDguMjUiIHk9IjE1My43NzY5Ij5odHRwIHN0YXR1cyBjb2RlPzwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm12cmtia3QyOTJvZikiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxNDYiIHg9IjEwNC41IiB5PSIxOTcuNTc4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMiIgeD0iMTE4LjUiIHk9IjIxOC43MTY4Ij51cGRhdGUgbm90aWZpY2F0aW9uSWQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZtdnJrYmt0Mjkyb2YpIiBwb2ludHM9IjEwNywyNTEuNTQ2OSwyNDgsMjUxLjU0NjksMjYwLDI2My41NDY5LDI0OCwyNzUuNTQ2OSwxMDcsMjc1LjU0NjksOTUsMjYzLjU0NjksMTA3LDI1MS41NDY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEiIHg9IjEwNyIgeT0iMjY3LjM1NSI+SFRUUCBnZXQgY29uZmlnIG5ld2VzdD88L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZtdnJrYmt0Mjkyb2YpIiBoZWlnaHQ9IjMzLjk2ODgiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTM4IiB4PSIxMSIgeT0iMzE4LjM1MTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQiIHg9IjI1IiB5PSIzMzkuNDkwMiI+dXBkYXRlIGxvY2FsIGNhY2hlPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmbXZya2JrdDI5Mm9mKSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9Ijg3IiB4PSIyMzEuNSIgeT0iMzE4LjM1MTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MyIgeD0iMjQ1LjUiIHk9IjMzOS40OTAyIj5ubyBjaGFuZ2U8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZtdnJrYmt0Mjkyb2YpIiBwb2ludHM9IjE3Ny41LDM5OS4yNDIyLDE3Ny41LDM5OS4yNDIyLDE4OS41LDQxMS4yNDIyLDE3Ny41LDQyMy4yNDIyLDE3Ny41LDQyMy4yNDIyLDE2NS41LDQxMS4yNDIyLDE3Ny41LDM5OS4yNDIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm12cmtia3QyOTJvZikiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4NyIgeD0iMzM4LjUiIHk9IjE5Ny41NzgxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjMiIHg9IjM1Mi41IiB5PSIyMTguNzE2OCI+bm8gY2hhbmdlPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmbXZya2JrdDI5Mm9mKSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjU2IiB4PSI0NDUuNSIgeT0iMTk3LjU3ODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iNDU5LjUiIHk9IjIxOC43MTY4Ij5vdGhlcjwvdGV4dD48cG9seWdvbiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm12cmtia3QyOTJvZikiIHBvaW50cz0iMjU3LjI1LDQzMy4yNDIyLDI1Ny4yNSw0MzMuMjQyMiwyNjkuMjUsNDQ1LjI0MjIsMjU3LjI1LDQ1Ny4yNDIyLDI1Ny4yNSw0NTcuMjQyMiwyNDUuMjUsNDQ1LjI0MjIsMjU3LjI1LDQzMy4yNDIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm12cmtia3QyOTJvZikiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4NCIgeD0iNTIzLjUiIHk9IjEzNy45Njg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjAiIHg9IjUzNy41IiB5PSIxNTkuMTA3NCI+SHR0cCBlcnJvcjwvdGV4dD48cG9seWdvbiBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm12cmtia3QyOTJvZikiIHBvaW50cz0iNDExLjM3NSw0NjMuMjQyMiw0MjMuMzc1LDQ3NS4yNDIyLDQxMS4zNzUsNDg3LjI0MjIsMzk5LjM3NSw0NzUuMjQyMiw0MTEuMzc1LDQ2My4yNDIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZm12cmtia3QyOTJvZikiIGhlaWdodD0iMzMuOTY4OCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI4NyIgeD0iMzY3Ljg3NSIgeT0iNTAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NyIgeD0iMzc3Ljg3NSIgeT0iNzEuMTM4NyI+TG9uZ1BvbGxpbmc8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZtdnJrYmt0Mjkyb2YpIiBwb2ludHM9IjQxMS4zNzUsNTA3LjI0MjIsNDExLjM3NSw1MDcuMjQyMiw0MjMuMzc1LDUxOS4yNDIyLDQxMS4zNzUsNTMxLjI0MjIsNDExLjM3NSw1MzEuMjQyMiwzOTkuMzc1LDUxOS4yNDIyLDQxMS4zNzUsNTA3LjI0MjIiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIvPjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmbXZya2JrdDI5Mm9mKSIgaGVpZ2h0PSIzMy45Njg4IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjU0IiB4PSI2MTcuNSIgeT0iMzQ1LjI3MzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNCIgeD0iNjI3LjUiIHk9IjM2Ni40MTIxIj5zbGVlcDwvdGV4dD48ZWxsaXBzZSBjeD0iNDExLjM3NSIgY3k9IjU2Mi4yNDIyIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZm12cmtia3QyOTJvZikiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iNDExLjM3NSIgY3k9IjU2Mi4yNDIyIiBmaWxsPSIjMDAwMDAwIiByeD0iNiIgcnk9IjYiIHN0eWxlPSJzdHJva2U6IzdGN0Y3RjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijk1IiB4Mj0iODAiIHkxPSIyNjMuNTQ2OSIgeTI9IjI2My41NDY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iODAiIHgyPSI4MCIgeTE9IjI2My41NDY5IiB5Mj0iMzE4LjM1MTYiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9Ijc2LDMwOC4zNTE2LDgwLDMxOC4zNTE2LDg0LDMwOC4zNTE2LDgwLDMxMi4zNTE2IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMSIgeD0iODAiIHk9IjI5Ni44NTE2Ij4yMDA8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjYwIiB4Mj0iMjc1IiB5MT0iMjYzLjU0NjkiIHkyPSIyNjMuNTQ2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI3NSIgeDI9IjI3NSIgeTE9IjI2My41NDY5IiB5Mj0iMzE4LjM1MTYiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjI3MSwzMDguMzUxNiwyNzUsMzE4LjM1MTYsMjc5LDMwOC4zNTE2LDI3NSwzMTIuMzUxNiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTEiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEiIHg9IjI3NSIgeT0iMjk2Ljg1MTYiPjMwNDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI4MCIgeDI9IjgwIiB5MT0iMzUyLjMyMDMiIHkyPSI0MTEuMjQyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjgwIiB4Mj0iMTY1LjUiIHkxPSI0MTEuMjQyMiIgeTI9IjQxMS4yNDIyIi8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxNTUuNSw0MDcuMjQyMiwxNjUuNSw0MTEuMjQyMiwxNTUuNSw0MTUuMjQyMiwxNTkuNSw0MTEuMjQyMiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjc1IiB4Mj0iMjc1IiB5MT0iMzUyLjMyMDMiIHkyPSI0MTEuMjQyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI3NSIgeDI9IjE4OS41IiB5MT0iNDExLjI0MjIiIHkyPSI0MTEuMjQyMiIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTk5LjUsNDA3LjI0MjIsMTg5LjUsNDExLjI0MjIsMTk5LjUsNDE1LjI0MjIsMTk1LjUsNDExLjI0MjIiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjE3Ny41IiB4Mj0iMTc3LjUiIHkxPSIyMzEuNTQ2OSIgeTI9IjI1MS41NDY5Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxNzMuNSwyNDEuNTQ2OSwxNzcuNSwyNTEuNTQ2OSwxODEuNSwyNDEuNTQ2OSwxNzcuNSwyNDUuNTQ2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTk2LjI1IiB4Mj0iMTc3LjUiIHkxPSIxNDkuOTY4OCIgeTI9IjE0OS45Njg4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTc3LjUiIHgyPSIxNzcuNSIgeTE9IjE0OS45Njg4IiB5Mj0iMTk3LjU3ODEiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE3My41LDE4Ny41NzgxLDE3Ny41LDE5Ny41NzgxLDE4MS41LDE4Ny41NzgxLDE3Ny41LDE5MS41NzgxIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyMSIgeD0iMTc3LjUiIHk9IjE3Ny41ODE1Ij4yMDA8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzE4LjI1IiB4Mj0iNDczLjUiIHkxPSIxNDkuOTY4OCIgeTI9IjE0OS45Njg4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDczLjUiIHgyPSI0NzMuNSIgeTE9IjE0OS45Njg4IiB5Mj0iMTk3LjU3ODEiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ2OS41LDE4Ny41NzgxLDQ3My41LDE5Ny41NzgxLDQ3Ny41LDE4Ny41NzgxLDQ3My41LDE5MS41NzgxIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMSIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMCIgeD0iNDczLjUiIHk9IjE3Ny41ODE1Ij5vdGhlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzODIiIHgyPSIzODIiIHkxPSIxNDkuOTY4OCIgeTI9IjE5Ny41NzgxIi8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIzNzgsMTg3LjU3ODEsMzgyLDE5Ny41NzgxLDM4NiwxODcuNTc4MSwzODIsMTkxLjU3ODEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjExIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxIiB4PSIzODIiIHk9IjE3Mi41ODE1Ij4zMDQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMTc3LjUiIHgyPSIxNzcuNSIgeTE9IjQyMy4yNDIyIiB5Mj0iNDQ1LjI0MjIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIxNzcuNSIgeDI9IjI0NS4yNSIgeTE9IjQ0NS4yNDIyIiB5Mj0iNDQ1LjI0MjIiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjIzNS4yNSw0NDEuMjQyMiwyNDUuMjUsNDQ1LjI0MjIsMjM1LjI1LDQ0OS4yNDIyLDIzOS4yNSw0NDUuMjQyMiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDczLjUiIHgyPSI0NzMuNSIgeTE9IjIzMS41NDY5IiB5Mj0iNDQ1LjI0MjIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0NzMuNSIgeDI9IjI2OS4yNSIgeTE9IjQ0NS4yNDIyIiB5Mj0iNDQ1LjI0MjIiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjI3OS4yNSw0NDEuMjQyMiwyNjkuMjUsNDQ1LjI0MjIsMjc5LjI1LDQ0OS4yNDIyLDI3NS4yNSw0NDUuMjQyMiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzgyIiB4Mj0iMzgyIiB5MT0iMjMxLjU0NjkiIHkyPSI0NDUuMjQyMiIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMzc4LDQzNS4yNDIyLDM4Miw0NDUuMjQyMiwzODYsNDM1LjI0MjIsMzgyLDQzOS4yNDIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMDkuODc1IiB4Mj0iMjU3LjI1IiB5MT0iMTE1Ljk2ODgiIHkyPSIxMTUuOTY4OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI1Ny4yNSIgeDI9IjI1Ny4yNSIgeTE9IjExNS45Njg4IiB5Mj0iMTM3Ljk2ODgiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjI1My4yNSwxMjcuOTY4OCwyNTcuMjUsMTM3Ljk2ODgsMjYxLjI1LDEyNy45Njg4LDI1Ny4yNSwxMzEuOTY4OCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNTEyLjg3NSIgeDI9IjU2NS41IiB5MT0iMTE1Ljk2ODgiIHkyPSIxMTUuOTY4OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjU2NS41IiB4Mj0iNTY1LjUiIHkxPSIxMTUuOTY4OCIgeTI9IjEzNy45Njg4Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI1NjEuNSwxMjcuOTY4OCw1NjUuNSwxMzcuOTY4OCw1NjkuNSwxMjcuOTY4OCw1NjUuNSwxMzEuOTY4OCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMjU3LjI1IiB4Mj0iMjU3LjI1IiB5MT0iNDU3LjI0MjIiIHkyPSI0NzUuMjQyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjI1Ny4yNSIgeDI9IjM5OS4zNzUiIHkxPSI0NzUuMjQyMiIgeTI9IjQ3NS4yNDIyIi8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIzODkuMzc1LDQ3MS4yNDIyLDM5OS4zNzUsNDc1LjI0MjIsMzg5LjM3NSw0NzkuMjQyMiwzOTMuMzc1LDQ3NS4yNDIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI1NjUuNSIgeDI9IjU2NS41IiB5MT0iMTcxLjkzNzUiIHkyPSI0NzUuMjQyMiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjU2NS41IiB4Mj0iNDIzLjM3NSIgeTE9IjQ3NS4yNDIyIiB5Mj0iNDc1LjI0MjIiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQzMy4zNzUsNDcxLjI0MjIsNDIzLjM3NSw0NzUuMjQyMiw0MzMuMzc1LDQ3OS4yNDIyLDQyOS4zNzUsNDc1LjI0MjIiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQxMS4zNzUiIHgyPSI0MTEuMzc1IiB5MT0iODMuOTY4OCIgeTI9IjEwMy45Njg4Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0MDcuMzc1LDkzLjk2ODgsNDExLjM3NSwxMDMuOTY4OCw0MTUuMzc1LDkzLjk2ODgsNDExLjM3NSw5Ny45Njg4IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0MjMuMzc1IiB4Mj0iNjQ0LjUiIHkxPSI1MTkuMjQyMiIgeTI9IjUxOS4yNDIyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjQ0LjUiIHgyPSI2NDQuNSIgeTE9IjM3OS4yNDIyIiB5Mj0iNTE5LjI0MjIiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjY0MC41LDM4OS4yNDIyLDY0NC41LDM3OS4yNDIyLDY0OC41LDM4OS4yNDIyLDY0NC41LDM4NS4yNDIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI2NDQuNSIgeDI9IjY0NC41IiB5MT0iNjYuOTg0NCIgeTI9IjM0NS4yNzM0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNjQ0LjUiIHgyPSI0NTQuODc1IiB5MT0iNjYuOTg0NCIgeTI9IjY2Ljk4NDQiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ2NC44NzUsNjIuOTg0NCw0NTQuODc1LDY2Ljk4NDQsNDY0Ljg3NSw3MC45ODQ0LDQ2MC44NzUsNjYuOTg0NCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iNDExLjM3NSIgeDI9IjQxMS4zNzUiIHkxPSI0ODcuMjQyMiIgeTI9IjUwNy4yNDIyIi8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0MDcuMzc1LDQ5Ny4yNDIyLDQxMS4zNzUsNTA3LjI0MjIsNDE1LjM3NSw0OTcuMjQyMiw0MTEuMzc1LDUwMS4yNDIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSI0MTEuMzc1IiB4Mj0iNDExLjM3NSIgeTE9IjMwIiB5Mj0iNTAiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQwNy4zNzUsNDAsNDExLjM3NSw1MCw0MTUuMzc1LDQwLDQxMS4zNzUsNDQiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjQxMS4zNzUiIHgyPSI0MTEuMzc1IiB5MT0iNTMxLjI0MjIiIHkyPSI1NTEuMjQyMiIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNDA3LjM3NSw1NDEuMjQyMiw0MTEuMzc1LDU1MS4yNDIyLDQxNS4zNzUsNTQxLjI0MjIsNDExLjM3NSw1NDUuMjQyMiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PCEtLU1ENT1bNDg1OWJkNmExZTI3YWI1NzViMDk5Yjc2YTliMWQzM2RdCkBzdGFydHVtbA0Kc3RhcnQgDQoNCnJlcGVhdCA6TG9uZ1BvbGxpbmc7DQppZiAoQXBvbGxvIGNvbmZpZyBub3JtYWwgcmVzcG9uc2U/KSB0aGVuICh5ZXMpDQogICAgc3dpdGNoIChodHRwIHN0YXR1cyBjb2RlPykgDQogICAgY2FzZSAoMjAwKQ0KICAgICAgICA6IHVwZGF0ZSBub3RpZmljYXRpb25JZDsNCiAgICAgICAgc3dpdGNoIChIVFRQIGdldCBjb25maWcgbmV3ZXN0PykNCiAgICAgICAgICAgIGNhc2UgKDIwMCkNCiAgICAgICAgICAgICAgICA6IHVwZGF0ZSBsb2NhbCBjYWNoZTsNCiAgICAgICAgICAgIGNhc2UgKDMwNCkNCiAgICAgICAgICAgICAgICA6IG5vIGNoYW5nZTsNCiAgICAgICAgZW5kc3dpdGNoDQogICAgY2FzZSAoMzA0KQ0KICAgICAgICA6IG5vIGNoYW5nZTsNCiAgICBjYXNlIChvdGhlcikNCiAgICAgICAgOiBvdGhlcjsNCiAgICBlbmRzd2l0Y2gNCmVsc2UgKG5vKQ0KICAgIDogSHR0cCBlcnJvcjsNCmVuZGlmDQoNCmJhY2t3YXJkIDpzbGVlcDsNCnJlcGVhdCB3aGlsZSAoKQ0Kc3RvcA0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIxLjE3YmV0YTEwKFVua25vd24gY29tcGlsZSB0aW1lKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogZW4KQ291bnRyeTogVVMKLS0+PC9nPjwvc3ZnPg=='>

<ul>
<li><p>流程图不需要考虑很严谨的逻辑，因为有版本号，即使中间有异常，下次轮询的时候也可以恢复。</p>
</li>
<li><p>做好降级策略，定期轮询，防止路由策略等导致的long polling服务不可用。</p>
</li>
</ul>
<h3 id="refer"><a href="#refer" class="headerlink" title="refer"></a>refer</h3><p><a target="_blank" rel="noopener" href="https://ably.com/blog/websockets-vs-long-polling">https://ably.com/blog/websockets-vs-long-polling</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2021/04/09/2021-04-10-mediasoup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/09/2021-04-10-mediasoup/" class="post-title-link" itemprop="url">Mediasoup</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-10 00:00:00" itemprop="dateCreated datePublished" datetime="2021-04-10T00:00:00+08:00">2021-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/media/" itemprop="url" rel="index"><span itemprop="name">media</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="mediasoup"><a href="#mediasoup" class="headerlink" title="mediasoup"></a>mediasoup</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>v3版本源码实现了SFU的基本转发功能，由C++部分的worker和TS部分的信令组成。这两部分之间用Unix domain socket通信，是进程之间的全双工通信方式，基于文件系统，不需要走协议栈，因此必须同机部署。</p>
<p><strong>router</strong></p>
<p>逻辑层抽象，代表了通话的房间。</p>
<p><strong>peer</strong></p>
<p>逻辑层抽象，代表了通话的成员。</p>
<p><strong>transport</strong></p>
<p>数据层抽象，代表了一路socket层面的数据流，可以承载多个RTP stream。通常一个典型的通话里，上行和下行需要分别建立两个socket连接，就是两个transport。客户端与mediasoup之间的transport通常是<code>webrtcTransport</code>。mediasoup之间的routers也可以建立transport实现级联关系，通常是<code>pipeTransport</code>。发给GStreamer和ffmepg的为<code>plainTransport</code>。</p>
<p>基于socket的transport在实际业务中非常浪费端口资源，一方面是因为作者并非将它设计为商业用途，另一方面mediasoup的STUN把自己也当成一个host，简单实现了协议功能。</p>
<h2 id="源码结构"><a href="#源码结构" class="headerlink" title="源码结构"></a>源码结构</h2><p><a href="/images/svg/mediasoup.svg">mediasoup</a><br><img src="/images/svg/mediasoup.svg"></p>
<h2 id="实现协议"><a href="#实现协议" class="headerlink" title="实现协议"></a>实现协议</h2><p>WebRTC实现连接的ICE和能力协商的SDP都属于描述性协议，并不严格规定具体的实现。因此信令层面由mediasoup官方提供的<a target="_blank" rel="noopener" href="https://github.com/versatica/mediasoup-demo">demo</a>和<a target="_blank" rel="noopener" href="https://github.com/versatica/libmediasoupclient">client-cpp</a>,<a target="_blank" rel="noopener" href="https://github.com/versatica/mediasoup-client">client-js</a>等实现具体基于webrtc的调用，这部分代码主要在demo。数据层则是实现了RTP/RTCP协议的基本传输和反馈能力，这部分代码主要在worker。client-cpp提供了调用webrtc-native的API，client-js则是调用支持webrtc的浏览器端提供的API。client和demo/worker通过私有信令和标准协议通信实现了基本的RTC功能。</p>
<img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iOTUwcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo5MjZweDtoZWlnaHQ6OTUwcHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgOTI2IDk1MCIgd2lkdGg9IjkyNnB4IiB6b29tQW5kUGFuPSJtYWduaWZ5Ij48ZGVmcz48ZmlsdGVyIGhlaWdodD0iMzAwJSIgaWQ9ImZ6anN3a3hkbzR4ZmYiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI0MzkuNSIgeT0iMTAwLjU2MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iOTcuMzk4NCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjQzOS41IiB5PSIxODcuOTYwOSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSI2My4yNjU2IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iNDM5LjUiIHk9IjM0My42MjUiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iOTcuMzk4NCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjQzOS41IiB5PSI1MzguNDIxOSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIxMjEuNTMxMyIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjQzOS41IiB5PSI2OTQuMDg1OSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIzNC4xMzI4IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iNjY0LjUiIHk9IjIyMi4wOTM4Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjM0LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjQuNSIgeT0iNDA2Ljg5MDYiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iMzQuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjY2NC41IiB5PSI1NzIuNTU0NyIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIyOS4xMzI4IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iNjY0LjUiIHk9IjcyMy4yMTg4Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjM0LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjQuNSIgeT0iODE1LjYxNzIiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMzkiIHgyPSIzOSIgeTE9IjQwLjI5NjkiIHkyPSI5MDYuODgyOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSIxNjUiIHgyPSIxNjUiIHkxPSI0MC4yOTY5IiB5Mj0iOTA2Ljg4MjgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iNDQ0IiB4Mj0iNDQ0IiB5MT0iNDAuMjk2OSIgeTI9IjkwNi44ODI4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjY2OS41IiB4Mj0iNjY5LjUiIHkxPSI0MC4yOTY5IiB5Mj0iOTA2Ljg4MjgiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjUiIHg9IjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MSIgeD0iMTIiIHk9IjI0Ljk5NTEiPndlYnJ0YzwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNjUiIHg9IjUiIHk9IjkwNS44ODI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTEiIHg9IjEyIiB5PSI5MjUuODc3OSI+d2VicnRjPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1NSIgeD0iMTM2IiB5PSI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDEiIHg9IjE0MyIgeT0iMjQuOTk1MSI+Y2xpZW50PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1NSIgeD0iMTM2IiB5PSI5MDUuODgyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxIiB4PSIxNDMiIHk9IjkyNS44Nzc5Ij5jbGllbnQ8L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjMwLjI5NjkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjU1IiB4PSI0MTUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iNDIyIiB5PSIyNC45OTUxIj5kZW1vPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1NSIgeD0iNDE1IiB5PSI5MDUuODgyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQxIiB4PSI0MjIiIHk9IjkyNS44Nzc5Ij5kZW1vPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI5MiIgeD0iNjIxLjUiIHk9IjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iNjI4LjUiIHk9IjI0Ljk5NTEiPm1lZGlhc291cDwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iOTIiIHg9IjYyMS41IiB5PSI5MDUuODgyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSI2MjguNSIgeT0iOTI1Ljg3NzkiPm1lZGlhc291cDwvdGV4dD48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iMjkuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjQzOS41IiB5PSIxMDAuNTYyNSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSI5Ny4zOTg0IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iNDM5LjUiIHk9IjE4Ny45NjA5Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjYzLjI2NTYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI0MzkuNSIgeT0iMzQzLjYyNSIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSI5Ny4zOTg0IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iNDM5LjUiIHk9IjUzOC40MjE5Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjEyMS41MzEzIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iNDM5LjUiIHk9IjY5NC4wODU5Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjM0LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjQuNSIgeT0iMjIyLjA5MzgiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iMzQuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjY2NC41IiB5PSI0MDYuODkwNiIvPjxyZWN0IGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgaGVpZ2h0PSIzNC4xMzI4IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxMCIgeD0iNjY0LjUiIHk9IjU3Mi41NTQ3Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI2Z6anN3a3hkbzR4ZmYpIiBoZWlnaHQ9IjI5LjEzMjgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjEwIiB4PSI2NjQuNSIgeT0iNzIzLjIxODgiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIGhlaWdodD0iMzQuMTMyOCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTAiIHg9IjY2NC41IiB5PSI4MTUuNjE3MiIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTUzLjUsNjcuNDI5NywxNjMuNSw3MS40Mjk3LDE1My41LDc1LjQyOTcsMTU3LjUsNzEuNDI5NyIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheToyLjAsMi4wOyIgeDE9IjM5LjUiIHgyPSIxNTkuNSIgeTE9IjcxLjQyOTciIHkyPSI3MS40Mjk3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTAyIiB4PSI0Ni41IiB5PSI2Ni4zNjM4Ij5nZXRNZWRpYURldmljZTwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQyNy41LDk2LjU2MjUsNDM3LjUsMTAwLjU2MjUsNDI3LjUsMTA0LjU2MjUsNDMxLjUsMTAwLjU2MjUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE2NS41IiB4Mj0iNDMzLjUiIHkxPSIxMDAuNTYyNSIgeTI9IjEwMC41NjI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU5IiB4PSIxNzIuNSIgeT0iOTUuNDk2NiI+Z2V0Um91dGVyUnRwQ2FwYWJpbGl0aWVzPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTc2LjUsMTI1LjY5NTMsMTY2LjUsMTI5LjY5NTMsMTc2LjUsMTMzLjY5NTMsMTcyLjUsMTI5LjY5NTMiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE3MC41IiB4Mj0iNDQzLjUiIHkxPSIxMjkuNjk1MyIgeTI9IjEyOS42OTUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTg3IiB4PSIxODIuNSIgeT0iMTI0LjYyOTQiPui/lOWbnm1lZGlhc291cOaUr+aMgeeahFJUUOiDveWKmzwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjUwLjUsMTU0LjgyODEsNDAuNSwxNTguODI4MSw1MC41LDE2Mi44MjgxLDQ2LjUsMTU4LjgyODEiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Mi4wLDIuMDsiIHgxPSI0NC41IiB4Mj0iMTY0LjUiIHkxPSIxNTguODI4MSIgeTI9IjE1OC44MjgxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTAiIHg9IjU2LjUiIHk9IjE1My43NjIyIj5zZXQgU0RQPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNDI3LjUsMTgzLjk2MDksNDM3LjUsMTg3Ljk2MDksNDI3LjUsMTkxLjk2MDksNDMxLjUsMTg3Ljk2MDkiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE2NS41IiB4Mj0iNDMzLjUiIHkxPSIxODcuOTYwOSIgeTI9IjE4Ny45NjA5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjE4IiB4PSIxNzIuNSIgeT0iMTgyLjg5NSI+Y3JlYXRlV2ViUnRjVHJhbnNwb3J0KHVwL2Rvd24pPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNjUyLjUsMjE4LjA5MzgsNjYyLjUsMjIyLjA5MzgsNjUyLjUsMjI2LjA5MzgsNjU2LjUsMjIyLjA5MzgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQ0OS41IiB4Mj0iNjU4LjUiIHkxPSIyMjIuMDkzOCIgeTI9IjIyMi4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTk2IiB4PSI0NTYuNSIgeT0iMjE3LjAyNzgiPnJvdXRlci5jcmVhdGVXZWJSdGNUcmFuc3BvcnQ8L3RleHQ+PHBhdGggZD0iTTY3OSwyMDAuOTYwOSBMNjc5LDIyNS45NjA5IEw4NTMsMjI1Ljk2MDkgTDg1MywyMTAuOTYwOSBMODQzLDIwMC45NjA5IEw2NzksMjAwLjk2MDkgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik04NDMsMjAwLjk2MDkgTDg0MywyMTAuOTYwOSBMODUzLDIxMC45NjA5IEw4NDMsMjAwLjk2MDkgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTMiIHg9IjY4NSIgeT0iMjE4LjAyNzgiPuWIm+W7uuS4iuS4i+ihjOS4pOS4qlRyYW5zcG9ydDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ2MC41LDI1Mi4yMjY2LDQ1MC41LDI1Ni4yMjY2LDQ2MC41LDI2MC4yMjY2LDQ1Ni41LDI1Ni4yMjY2IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0NTQuNSIgeDI9IjY2OC41IiB5MT0iMjU2LjIyNjYiIHkyPSIyNTYuMjI2NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMCIgeD0iNDY2LjUiIHk9IjI1MS4xNjA2Ij5JQ0UvRFRMUy9TQ1RQ5Y+C5pWwPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTc2LjUsMjgxLjM1OTQsMTY2LjUsMjg1LjM1OTQsMTc2LjUsMjg5LjM1OTQsMTcyLjUsMjg1LjM1OTQiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE3MC41IiB4Mj0iNDQzLjUiIHkxPSIyODUuMzU5NCIgeTI9IjI4NS4zNTk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIwIiB4PSIxODIuNSIgeT0iMjgwLjI5MzUiPklDRS9EVExTL1NDVFDlj4LmlbA8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI1MC41LDMxMC40OTIyLDQwLjUsMzE0LjQ5MjIsNTAuNSwzMTguNDkyMiw0Ni41LDMxNC40OTIyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNDQuNSIgeDI9IjE2NC41IiB5MT0iMzE0LjQ5MjIiIHkyPSIzMTQuNDkyMiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUwIiB4PSI1Ni41IiB5PSIzMDkuNDI2MyI+c2V0IFNEUDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQyNy41LDMzOS42MjUsNDM3LjUsMzQzLjYyNSw0MjcuNSwzNDcuNjI1LDQzMS41LDM0My42MjUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE2NS41IiB4Mj0iNDMzLjUiIHkxPSIzNDMuNjI1IiB5Mj0iMzQzLjYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyIiB4PSIxNzIuNSIgeT0iMzM4LjU1OTEiPmpvaW48L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxNzYuNSwzNjguNzU3OCwxNjYuNSwzNzIuNzU3OCwxNzYuNSwzNzYuNzU3OCwxNzIuNSwzNzIuNzU3OCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTcwLjUiIHgyPSI0MzguNSIgeTE9IjM3Mi43NTc4IiB5Mj0iMzcyLjc1NzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NCIgeD0iMTgyLjUiIHk9IjM2Ny42OTE5Ij5vdGhlciBwZWVyczwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjY1Mi41LDQwMi44OTA2LDY2Mi41LDQwNi44OTA2LDY1Mi41LDQxMC44OTA2LDY1Ni41LDQwNi44OTA2IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0NDQuNSIgeDI9IjY1OC41IiB5MT0iNDA2Ljg5MDYiIHkyPSI0MDYuODkwNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMiIgeD0iNDUxLjUiIHk9IjQwMS44MjQ3Ij50cmFuc3BvcnQuY29uc3VtZTwvdGV4dD48cGF0aCBkPSJNNjc5LDM4NS43NTc4IEw2NzksNDEwLjc1NzggTDkxNyw0MTAuNzU3OCBMOTE3LDM5NS43NTc4IEw5MDcsMzg1Ljc1NzggTDY3OSwzODUuNzU3OCAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTkwNywzODUuNzU3OCBMOTA3LDM5NS43NTc4IEw5MTcsMzk1Ljc1NzggTDkwNywzODUuNzU3OCAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxNyIgeD0iNjg1IiB5PSI0MDIuODI0NyI+5ZyoVHJhbnNwb3J05LiK5bu656uLY29uc3VtZXLnmoTmmKDlsIQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0NTUuNSw0MzcuMDIzNCw0NDUuNSw0NDEuMDIzNCw0NTUuNSw0NDUuMDIzNCw0NTEuNSw0NDEuMDIzNCIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDQ5LjUiIHgyPSI2NjguNSIgeTE9IjQ0MS4wMjM0IiB5Mj0iNDQxLjAyMzQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjAiIHg9IjQ2MS41IiB5PSI0MzUuOTU3NSI+cHJvZHVjZXLlkoxjb25zdW1lcueKtuaAgTwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE3Ni41LDQ3MS4xNTYzLDE2Ni41LDQ3NS4xNTYzLDE3Ni41LDQ3OS4xNTYzLDE3Mi41LDQ3NS4xNTYzIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNzAuNSIgeDI9IjQ0My41IiB5MT0iNDc1LjE1NjMiIHkyPSI0NzUuMTU2MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyOSIgeD0iMTgyLjUiIHk9IjQ3MC4wOTAzIj7lj5Hnu5noh6rlt7FuZXdDb25zdW1lcihhdWRpby92aWRlbyk8L3RleHQ+PHBhdGggZD0iTTQ0OSw0NTQuMDIzNCBMNDQ5LDQ3OS4wMjM0IEw3MTcsNDc5LjAyMzQgTDcxNyw0NjQuMDIzNCBMNzA3LDQ1NC4wMjM0IEw0NDksNDU0LjAyMzQgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik03MDcsNDU0LjAyMzQgTDcwNyw0NjQuMDIzNCBMNzE3LDQ2NC4wMjM0IEw3MDcsNDU0LjAyMzQgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNDciIHg9IjQ1NSIgeT0iNDcxLjA5MDMiPuaKiuaWsOi/m+aIv+aIkOWRmOW9k+WBmuWFtuS7luW3sue7j+i/m+aIv+aIkOWRmOeahOS4i+ihjDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE1My41LDUwNS4yODkxLDE2My41LDUwOS4yODkxLDE1My41LDUxMy4yODkxLDE1Ny41LDUwOS4yODkxIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iMzkuNSIgeDI9IjE1OS41IiB5MT0iNTA5LjI4OTEiIHkyPSI1MDkuMjg5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU5IiB4PSI0Ni41IiB5PSI1MDQuMjIzMSI+RFRMU+WPguaVsDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQyNy41LDUzNC40MjE5LDQzNy41LDUzOC40MjE5LDQyNy41LDU0Mi40MjE5LDQzMS41LDUzOC40MjE5IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNjUuNSIgeDI9IjQzMy41IiB5MT0iNTM4LjQyMTkiIHkyPSI1MzguNDIxOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyOCIgeD0iMTcyLjUiIHk9IjUzMy4zNTYiPmNvbm5lY3RXZWJSdGNUcmFuc3BvcnQodXAvZG93bik8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI2NTIuNSw1NjguNTU0Nyw2NjIuNSw1NzIuNTU0Nyw2NTIuNSw1NzYuNTU0Nyw2NTYuNSw1NzIuNTU0NyIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDQ5LjUiIHgyPSI2NTguNSIgeTE9IjU3Mi41NTQ3IiB5Mj0iNTcyLjU1NDciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTQiIHg9IjQ1Ni41IiB5PSI1NjcuNDg4OCI+dHJhbnNwb3J0LmNvbm5lY3Q8L3RleHQ+PHBhdGggZD0iTTY3OSw1NTEuNDIxOSBMNjc5LDU3Ni40MjE5IEw3ODUsNTc2LjQyMTkgTDc4NSw1NjEuNDIxOSBMNzc1LDU1MS40MjE5IEw2NzksNTUxLjQyMTkgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik03NzUsNTUxLjQyMTkgTDc3NSw1NjEuNDIxOSBMNzg1LDU2MS40MjE5IEw3NzUsNTUxLjQyMTkgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NSIgeD0iNjg1IiB5PSI1NjguNDg4OCI+6K6+572uRFRMU+WPguaVsDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ2MC41LDYwMi42ODc1LDQ1MC41LDYwNi42ODc1LDQ2MC41LDYxMC42ODc1LDQ1Ni41LDYwNi42ODc1IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0NTQuNSIgeDI9IjY2OC41IiB5MT0iNjA2LjY4NzUiIHkyPSI2MDYuNjg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1IiB4PSI0NjYuNSIgeT0iNjAxLjYyMTYiPm9rPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTc2LjUsNjMxLjgyMDMsMTY2LjUsNjM1LjgyMDMsMTc2LjUsNjM5LjgyMDMsMTcyLjUsNjM1LjgyMDMiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjE3MC41IiB4Mj0iNDQzLjUiIHkxPSI2MzUuODIwMyIgeTI9IjYzNS44MjAzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUiIHg9IjE4Mi41IiB5PSI2MzAuNzU0NCI+b2s8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI1MC41LDY2MC45NTMxLDQwLjUsNjY0Ljk1MzEsNTAuNSw2NjguOTUzMSw0Ni41LDY2NC45NTMxIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjIuMCwyLjA7IiB4MT0iNDQuNSIgeDI9IjE2NC41IiB5MT0iNjY0Ljk1MzEiIHkyPSI2NjQuOTUzMSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1IiB4PSI1Ni41IiB5PSI2NTkuODg3MiI+b2s8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0MjcuNSw2OTAuMDg1OSw0MzcuNSw2OTQuMDg1OSw0MjcuNSw2OTguMDg1OSw0MzEuNSw2OTQuMDg1OSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTY1LjUiIHgyPSI0MzMuNSIgeTE9IjY5NC4wODU5IiB5Mj0iNjk0LjA4NTkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzYiIHg9IjE3Mi41IiB5PSI2ODkuMDIiPnByb2R1Y2UoYXVkaW8vdmlkZW8pPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNjUyLjUsNzE5LjIxODgsNjYyLjUsNzIzLjIxODgsNjUyLjUsNzI3LjIxODgsNjU2LjUsNzIzLjIxODgiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQ0OS41IiB4Mj0iNjU4LjUiIHkxPSI3MjMuMjE4OCIgeTI9IjcyMy4yMTg4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE1IiB4PSI0NTYuNSIgeT0iNzE4LjE1MjgiPnRyYW5zcG9ydC5wcm9kdWNlPC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNDYwLjUsNzQ4LjM1MTYsNDUwLjUsNzUyLjM1MTYsNDYwLjUsNzU2LjM1MTYsNDU2LjUsNzUyLjM1MTYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQ1NC41IiB4Mj0iNjY4LjUiIHkxPSI3NTIuMzUxNiIgeTI9Ijc1Mi4zNTE2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEyIiB4PSI0NjYuNSIgeT0iNzQ3LjI4NTYiPnByb2R1Y2VyIFJUUOWPguaVsDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE3Ni41LDc3Ny40ODQ0LDE2Ni41LDc4MS40ODQ0LDE3Ni41LDc4NS40ODQ0LDE3Mi41LDc4MS40ODQ0IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNzAuNSIgeDI9IjQzOC41IiB5MT0iNzgxLjQ4NDQiIHkyPSI3ODEuNDg0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjUxIiB4PSIxODIuNSIgeT0iNzc2LjQxODUiPlJUUOWPguaVsDwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjY1Mi41LDgxMS42MTcyLDY2Mi41LDgxNS42MTcyLDY1Mi41LDgxOS42MTcyLDY1Ni41LDgxNS42MTcyIiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0NDQuNSIgeDI9IjY1OC41IiB5MT0iODE1LjYxNzIiIHkyPSI4MTUuNjE3MiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMiIgeD0iNDUxLjUiIHk9IjgxMC41NTEzIj50cmFuc3BvcnQuY29uc3VtZTwvdGV4dD48cGF0aCBkPSJNNjc5LDc5NC40ODQ0IEw2NzksODE5LjQ4NDQgTDkxNyw4MTkuNDg0NCBMOTE3LDgwNC40ODQ0IEw5MDcsNzk0LjQ4NDQgTDY3OSw3OTQuNDg0NCAiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNmempzd2t4ZG80eGZmKSIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTkwNyw3OTQuNDg0NCBMOTA3LDgwNC40ODQ0IEw5MTcsODA0LjQ4NDQgTDkwNyw3OTQuNDg0NCAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxNyIgeD0iNjg1IiB5PSI4MTEuNTUxMyI+5ZyoVHJhbnNwb3J05LiK5bu656uLY29uc3VtZXLnmoTmmKDlsIQ8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0NTUuNSw4NDUuNzUsNDQ1LjUsODQ5Ljc1LDQ1NS41LDg1My43NSw0NTEuNSw4NDkuNzUiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQ0OS41IiB4Mj0iNjY4LjUiIHkxPSI4NDkuNzUiIHkyPSI4NDkuNzUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjAiIHg9IjQ2MS41IiB5PSI4NDQuNjg0MSI+cHJvZHVjZXLlkoxjb25zdW1lcueKtuaAgTwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjE3Ni41LDg3OS44ODI4LDE2Ni41LDg4My44ODI4LDE3Ni41LDg4Ny44ODI4LDE3Mi41LDg4My44ODI4IiBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiNBODAwMzY7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxNzAuNSIgeDI9IjQ0My41IiB5MT0iODgzLjg4MjgiIHkyPSI4ODMuODgyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI1NSIgeD0iMTgyLjUiIHk9Ijg3OC44MTY5Ij7pgJrnn6Xlhbbku5bmiJDlkZhuZXdDb25zdW1lcihhdWRpby92aWRlbyk8L3RleHQ+PHBhdGggZD0iTTQ0OSw4NjIuNzUgTDQ0OSw4ODcuNzUgTDY3OCw4ODcuNzUgTDY3OCw4NzIuNzUgTDY2OCw4NjIuNzUgTDQ0OSw4NjIuNzUgIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjZnpqc3dreGRvNHhmZikiIHN0eWxlPSJzdHJva2U6I0E4MDAzNjtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik02NjgsODYyLjc1IEw2NjgsODcyLjc1IEw2NzgsODcyLjc1IEw2NjgsODYyLjc1ICIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9InN0cm9rZTojQTgwMDM2O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA4IiB4PSI0NTUiIHk9Ijg3OS44MTY5Ij7mnInmlrDkuIrooYzvvIznu5nlhbbku5bmiJDlkZjliJvlu7rkuIvooYzovazlj5E8L3RleHQ+PCEtLU1ENT1bMTc3MDk4OTNlOTRiOTRlYTBhNDVhY2U5NmQ5YzYzZWZdCkBzdGFydHVtbA0Kc2tpbnBhcmFtIE5vdGVCYWNrZ3JvdW5kQ29sb3Igd2hpdGUNCg0Kd2VicnRjIC0gLT4gY2xpZW50IDogZ2V0TWVkaWFEZXZpY2UgDQpjbGllbnQgLT4gZGVtbyA6IGdldFJvdXRlclJ0cENhcGFiaWxpdGllcw0KYWN0aXZhdGUgZGVtbw0KZGVtbyAtPiBjbGllbnQgOiDov5Tlm55tZWRpYXNvdXDmlK/mjIHnmoRSVFDog73lipsNCmRlYWN0aXZhdGUgZGVtbw0KY2xpZW50IC0gLT4gd2VicnRjIDogc2V0IFNEUA0KDQpjbGllbnQgLT4gZGVtbyA6IGNyZWF0ZVdlYlJ0Y1RyYW5zcG9ydCh1cC9kb3duKQ0KYWN0aXZhdGUgZGVtbw0KZGVtbyAtPiBtZWRpYXNvdXAgOiByb3V0ZXIuY3JlYXRlV2ViUnRjVHJhbnNwb3J0DQphY3RpdmF0ZSBtZWRpYXNvdXANCm5vdGUgcmlnaHQgOiDliJvlu7rkuIrkuIvooYzkuKTkuKpUcmFuc3BvcnQNCm1lZGlhc291cCAtPiBkZW1vIDogSUNFL0RUTFMvU0NUUOWPguaVsA0KZGVhY3RpdmF0ZSBtZWRpYXNvdXANCmRlbW8gLT4gY2xpZW50IDogSUNFL0RUTFMvU0NUUOWPguaVsA0KZGVhY3RpdmF0ZSBkZW1vDQpjbGllbnQgLSAtPiB3ZWJydGMgOiBzZXQgU0RQDQoNCmNsaWVudCAtPiBkZW1vIDogam9pbg0KYWN0aXZhdGUgZGVtbw0KZGVtbyAtPiBjbGllbnQgOiBvdGhlciBwZWVycw0KZGVtbyAtPiBtZWRpYXNvdXAgOiB0cmFuc3BvcnQuY29uc3VtZQ0KZGVhY3RpdmF0ZSBkZW1vDQphY3RpdmF0ZSBtZWRpYXNvdXANCm5vdGUgcmlnaHQgOiDlnKhUcmFuc3BvcnTkuIrlu7rnq4tjb25zdW1lcueahOaYoOWwhA0KbWVkaWFzb3VwIC0+IGRlbW8gOiBwcm9kdWNlcuWSjGNvbnN1bWVy54q25oCBDQpkZWFjdGl2YXRlIG1lZGlhc291cA0KZGVtbyAtPiBjbGllbnQgOiDlj5Hnu5noh6rlt7FuZXdDb25zdW1lcihhdWRpby92aWRlbykNCm5vdGUgcmlnaHQgOiDmiormlrDov5vmiL/miJDlkZjlvZPlgZrlhbbku5blt7Lnu4/ov5vmiL/miJDlkZjnmoTkuIvooYwNCg0Kd2VicnRjIC0gLT4gY2xpZW50IDogRFRMU+WPguaVsA0KY2xpZW50IC0+IGRlbW8gOiBjb25uZWN0V2ViUnRjVHJhbnNwb3J0KHVwL2Rvd24pDQphY3RpdmF0ZSBkZW1vDQpkZW1vIC0+IG1lZGlhc291cCA6IHRyYW5zcG9ydC5jb25uZWN0DQphY3RpdmF0ZSBtZWRpYXNvdXANCm5vdGUgcmlnaHQgOiDorr7nva5EVExT5Y+C5pWwDQptZWRpYXNvdXAgLT4gZGVtbyA6IG9rDQpkZWFjdGl2YXRlIG1lZGlhc291cA0KZGVtbyAtPiBjbGllbnQgOiBvaw0KZGVhY3RpdmF0ZSBkZW1vDQpjbGllbnQgLSAtPiB3ZWJydGMgOiBvaw0KDQpjbGllbnQgLT4gZGVtbyA6IHByb2R1Y2UoYXVkaW8vdmlkZW8pDQphY3RpdmF0ZSBkZW1vDQpkZW1vIC0+IG1lZGlhc291cCA6IHRyYW5zcG9ydC5wcm9kdWNlDQphY3RpdmF0ZSBtZWRpYXNvdXANCm1lZGlhc291cCAtPiBkZW1vIDogcHJvZHVjZXIgUlRQ5Y+C5pWwDQpkZWFjdGl2YXRlIG1lZGlhc291cA0KZGVtbyAtPiBjbGllbnQgOiBSVFDlj4LmlbANCmRlbW8gLT4gbWVkaWFzb3VwIDogdHJhbnNwb3J0LmNvbnN1bWUNCmRlYWN0aXZhdGUgZGVtbw0KYWN0aXZhdGUgbWVkaWFzb3VwDQpub3RlIHJpZ2h0IDog5ZyoVHJhbnNwb3J05LiK5bu656uLY29uc3VtZXLnmoTmmKDlsIQNCm1lZGlhc291cCAtPiBkZW1vIDogcHJvZHVjZXLlkoxjb25zdW1lcueKtuaAgQ0KZGVhY3RpdmF0ZSBtZWRpYXNvdXANCmRlbW8gLT4gY2xpZW50IDog6YCa55+l5YW25LuW5oiQ5ZGYbmV3Q29uc3VtZXIoYXVkaW8vdmlkZW8pDQpub3RlIHJpZ2h0IDog5pyJ5paw5LiK6KGM77yM57uZ5YW25LuW5oiQ5ZGY5Yib5bu65LiL6KGM6L2s5Y+RDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjEuMTdiZXRhMTAoVW5rbm93biBjb21waWxlIHRpbWUpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50CkpWTTogSmF2YSBIb3RTcG90KFRNKSA2NC1CaXQgU2VydmVyIFZNCkRlZmF1bHQgRW5jb2Rpbmc6IFVURi04Ckxhbmd1YWdlOiBlbgpDb3VudHJ5OiBVUwotLT48L2c+PC9zdmc+'>
<h2 id="动手实现一个Mediasoup-client"><a href="#动手实现一个Mediasoup-client" class="headerlink" title="动手实现一个Mediasoup client"></a>动手实现一个Mediasoup client</h2><p>使用pion提供的webrtc库实现一个可以对接mediasoup的client小工具，使用的语言主要为golang。</p>
<h3 id="建立媒体传输通道"><a href="#建立媒体传输通道" class="headerlink" title="建立媒体传输通道"></a>建立媒体传输通道</h3><p>因为mediasoup把SDP拆成了几条信令在websocket上协商，因此需要把SDP中的字段拆解成所需要的字段封装在client端和给mediasoup server。</p>
<h4 id="ICE"><a href="#ICE" class="headerlink" title="ICE"></a>ICE</h4><p>从webrtc transport信令中拿到candidate列表，因为mediasoup是lite的ICE，client端是controlling，mediasoup是controlled，只需要从client去建立连接即可。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 创建ice agent</span></span><br><span class="line">iceAgent, err := ice.NewAgent(&amp;ice.AgentConfig&#123;</span><br><span class="line">    NetworkTypes: []ice.NetworkType&#123;ice.NetworkTypeUDP4&#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 把candidate加入ice的列表里</span></span><br><span class="line">iceAgent.AddRemoteCandidate(candidate)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建立连接</span></span><br><span class="line">iceConn, err := iceAgent.Dial(context.Background(), rsp.Answer.IceParameters.UsernameFragment, rsp.Answer.IceParameters.Password)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>至此，和webrtctransport的ice连接就建立了一半，接下来在ice的基础上做dtls密钥交换。</p>
<h4 id="DTLS"><a href="#DTLS" class="headerlink" title="DTLS"></a>DTLS</h4><p>mediasoup支持双向的dtls连接，dtls之后将密钥导出到ice的connection，对rtp的payload进行加密，媒体数据走的是srtp标准协议。</p>
<p>生成dtls证书和指纹</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="comment">// 不使用pem证书文件，自签名生成证书，对证书计算摘要</span></span><br><span class="line"><span class="keyword">var</span> tlsCerts []tls.Certificate</span><br><span class="line">certificate, err := selfsign.GenerateSelfSigned()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> mediasoupFPs, tlsCerts, err</span><br><span class="line">&#125;</span><br><span class="line">x509cert, err := x509.ParseCertificate(certificate.Certificate[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> mediasoupFPs, tlsCerts, err</span><br><span class="line">&#125;</span><br><span class="line">actualSHA256, err := fingerprint.Fingerprint(x509cert, crypto.SHA256)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> mediasoupFPs, tlsCerts, err</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>将dtls指纹参数通过信令发送给mediasoup，然后进行dtls连接即可，dtls可使用server也可以使用client，通过信令参数均可调整。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">config := &amp;dtls.Config&#123;</span><br><span class="line">	Certificates:         tlsCerts,</span><br><span class="line">	ExtendedMasterSecret: dtls.RequireExtendedMasterSecret,</span><br><span class="line">	<span class="comment">// Create timeout context for accepted connection.</span></span><br><span class="line">	ConnectContextMaker: <span class="function"><span class="keyword">func</span><span class="params">()</span> <span class="params">(context.Context, <span class="keyword">func</span>()</span>)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> context.WithTimeout(context.Background(), <span class="number">30</span>*time.Second)</span><br><span class="line">	&#125;,</span><br><span class="line">	SRTPProtectionProfiles: []dtls.SRTPProtectionProfile&#123;dtls.SRTP_AES128_CM_HMAC_SHA1_80&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   dtlsConn, err := dtls.Server(iceConn, config) <span class="comment">// or Client</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>至此，媒体通道webrtc transport已经建立。</p>
<h3 id="媒体传输"><a href="#媒体传输" class="headerlink" title="媒体传输"></a>媒体传输</h3><p>srtp不需要对整个数据包进行加密，因此收发数据仍然是在ice的connection上进行，但是将dtls的密钥导出用于加密每一个rtp的payload。</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   <span class="comment">// 导出dtls密钥</span></span><br><span class="line">srtpConfig := &amp;srtp.Config&#123;</span><br><span class="line">	Profile: srtp.ProtectionProfileAes128CmHmacSha1_80,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">connState := dtlsConn.ConnectionState()</span><br><span class="line"><span class="keyword">if</span> err := srtpConfig.ExtractSessionKeysFromDTLS(&amp;connState, <span class="literal">false</span>); err != <span class="literal">nil</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span>, fmt.Errorf(<span class="string">&quot;errDtlsKeyExtractionFailed: %v&quot;</span>, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 建立srtp session</span></span><br><span class="line">   srtpSession, err := srtp.NewSessionSRTP(iceConn, srtpConfig)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 建立srtp读写handler</span></span><br><span class="line">   rtpWriteStream, err := srtpSession.OpenWriteStream()</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 建立srtcp session</span></span><br><span class="line">   srtcpSession, err := srtp.NewSessionSRTCP(iceConn, srtpConfig)</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 建立srtcp读写handler</span></span><br><span class="line">   rtcpReadStream, err := srtcpSession.OpenReadStream(opt.SSRC)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>将RTP包的header和payload分别填入handler即可在之前建立的媒体通道上进行收发媒体。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://github.com/versatica/mediasoup">源码实现</a></p>
<p><a target="_blank" rel="noopener" href="https://mediasoup.org/">官网</a></p>
<p><a target="_blank" rel="noopener" href="https://mediasoup.discourse.group/">官方讨论组</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/jiyeyuran/mediasoup-go">golang实现信令层</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2020/10/03/2020-10-04-rtc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/03/2020-10-04-rtc/" class="post-title-link" itemprop="url">RTC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-04 00:00:00" itemprop="dateCreated datePublished" datetime="2020-10-04T00:00:00+08:00">2020-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/media/" itemprop="url" rel="index"><span itemprop="name">media</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="RTC"><a href="#RTC" class="headerlink" title="RTC"></a>RTC</h1><h2 id="RTC-Server"><a href="#RTC-Server" class="headerlink" title="RTC Server"></a>RTC Server</h2><h3 id="流媒体服务器"><a href="#流媒体服务器" class="headerlink" title="流媒体服务器"></a>流媒体服务器</h3><p>媒体数据的传输，实现实时传输的最基本功能。</p>
<h3 id="信令服务器"><a href="#信令服务器" class="headerlink" title="信令服务器"></a>信令服务器</h3><p>管理多路用户的逻辑，将多个通信用户组建房间进行权限控制和资源管理。</p>
<h3 id="打洞服务器"><a href="#打洞服务器" class="headerlink" title="打洞服务器"></a>打洞服务器</h3><p>为媒体传输提供更丰富的传输通道。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><strong>CDN</strong></p>
<p>提供就近接入和媒体缓存。</p>
<p><strong>专线</strong></p>
<p>复杂网络情况中提升各运营商之间传输质量。</p>
<p><img src="/images/pic/RTC.png" alt="RTC"></p>
<h2 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h2><p>NAT解决了IPv4资源不足问题，将端口和IP隐藏在内网，从而提高安全性</p>
<ol>
<li>完全锥型</li>
<li>IP限制型</li>
<li>端口限制型</li>
<li>对称型</li>
</ol>
<p><img src="/images/pic/STUN.png" alt="STUN"></p>
<p>组网的网关就像一道墙，阻隔着外部host和内网host直接访问。身处两个NAT后面的host不得不借助于打洞服务器来探测和协助两个host相互访问。因此，以上4种类型的组合情况有12种。</p>
<p><strong>完全锥形</strong>比较容易理解，就是一个四元组：</p>
<pre><code> &#123;
   内网IP，
   内网端口，
   映射的外网IP，
   映射的外网端口
 &#125;
 
</code></pre>
<p>这个映射四元组就是墙上的“洞”，NAT通过查找这个映射表来转发数据。完全锥形没有任何限制，内网的任何host都可以通过这个“洞”和外界通信。</p>
<p><strong>IP限制型</strong>，多加了一个元组：</p>
<blockquote>
<p>被访问主机的IP</p>
</blockquote>
<p>即限制了内网其他IP的host不能通过这个洞。</p>
<p><strong>端口限制型</strong>，又多加了一个元组：</p>
<blockquote>
<p>被访问主机的端口</p>
</blockquote>
<p>即限制了内网同个host的其他端口不能通过这个洞。</p>
<p>最复杂和多变的对称型，对于同一个外网host访问内网host1和host2，它映射的IP和端口都是变化的，因此：<code>对称型—对称型</code>和<code>对称型—端口限制型</code>这两种情况在STUN中是无法穿越的。</p>
<p>NAT穿越为媒体传输通道提供了直连的选择，同一局域网应该首选直连通道。其他情况可根据业务需求和质量情况来判断选择哪种通道。</p>
<h2 id="多对多通信"><a href="#多对多通信" class="headerlink" title="多对多通信"></a>多对多通信</h2><h3 id="Mesh方案"><a href="#Mesh方案" class="headerlink" title="Mesh方案"></a>Mesh方案</h3><p>思想基于一对一方案，将每个host之间都建立一个连接，且每个host之间都能打通直连通道。</p>
<p>局限性：</p>
<ol>
<li>现实场景中，不一定每个host之间都能建立直连通道</li>
<li>共享媒体流的时候，将给每个对端发送一份数据，上行带宽很大</li>
</ol>
<h3 id="MCU方案"><a href="#MCU方案" class="headerlink" title="MCU方案"></a>MCU方案</h3><p><strong>Multipoint Conferencing Unit</strong></p>
<p>服务器进行多路混流和重新编码，视频会议场景等，对服务器硬件要求高。<br>优势很明显，场景体验好，节省带宽资源。<br>局限性也很明显，对服务器要求高，混流过程有一定的延时。</p>
<h3 id="SFU方案"><a href="#SFU方案" class="headerlink" title="SFU方案"></a>SFU方案</h3><p><strong>Selective Forwarding Unit</strong></p>
<p>服务器对多路流根据实际场景进行转发。</p>
<h3 id="传输质量"><a href="#传输质量" class="headerlink" title="传输质量"></a>传输质量</h3><p><img src="/images/pic/QoS.png" alt="QoS"></p>
<h3 id="流媒体传输协议"><a href="#流媒体传输协议" class="headerlink" title="流媒体传输协议"></a>流媒体传输协议</h3><p>传统直播推拉流架构的主要协议：HLS和RTMP协议。</p>
<p>由于WebRTC传输数据基于UDP协议，RTMP基于TCP协议，HLS基于HTTP协议的特点，传输实时性：<code>WebRTC(RTCP/RTP) &gt; RTMP &gt; HLS</code></p>
<ul>
<li>WebRTC多用于实时音视频通信或互动场景</li>
<li>RTMP多用于推拉流场景</li>
<li>HLS多用于拉流端和点播场景</li>
</ul>
<p><img src="/images/pic/HLS.png" alt="HLS"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2020/05/26/2020-05-27-golang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/26/2020-05-27-golang/" class="post-title-link" itemprop="url">Golang</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-27 00:00:00" itemprop="dateCreated datePublished" datetime="2020-05-27T00:00:00+08:00">2020-05-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="/images/svg/Golang.svg">outline</a><br><img src="/images/svg/Golang.svg"></p>
<p>支持判等类型: 布尔，数字，字符串，指针，接口，通道，结构体，包含上述类型的数组<br>不支持判等类型: slice, map, function</p>
<p><a href="/images/svg/context.svg">context</a><br><img src="/images/svg/context.svg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2020/05/26/2020-05-27-mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/26/2020-05-27-mysql/" class="post-title-link" itemprop="url">MySQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-27 00:00:00" itemprop="dateCreated datePublished" datetime="2020-05-27T00:00:00+08:00">2020-05-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/database/" itemprop="url" rel="index"><span itemprop="name">database</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="/images/svg/MySQL.svg">outline</a><br><img src="/images/svg/MySQL.svg"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2020/05/25/2020-05-26-quic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/25/2020-05-26-quic/" class="post-title-link" itemprop="url">QUIC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-26 00:00:00" itemprop="dateCreated datePublished" datetime="2020-05-26T00:00:00+08:00">2020-05-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/protocol/" itemprop="url" rel="index"><span itemprop="name">protocol</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="延迟是性能瓶颈"><a href="#延迟是性能瓶颈" class="headerlink" title="延迟是性能瓶颈"></a>延迟是性能瓶颈</h3><p>HTTP/0.9到HTTP/1.x的主要提升是丰富了方法类型。</p>
<p>打开一个网页经过:</p>
<ol>
<li>DNS 查询</li>
<li>建立连接</li>
<li>请求</li>
<li>响应</li>
</ol>
<p>HTTP/1.x的每一次请求之间是串行的，即前一个request得到响应后才能发起下一个request，耗时为所有请求和响应耗时的总和。<br>HTTP/2.x开始支持多路复用，允许在同个连接上同时发起多个request，在多个请求的情况下，耗时大大减少。</p>
<p>HTTP/2借鉴了很多SPDY的提案，比如优先级和多路复用。</p>
<h3 id="二进制分帧层"><a href="#二进制分帧层" class="headerlink" title="二进制分帧层"></a>二进制分帧层</h3><p>HTTP/2 所有性能增强的核心在于新的二进制分帧层，它定义了如何封装 HTTP 消息并在客户端与服务器之间传输。HTTP/2 将 HTTP 协议通信分解为二进制编码帧的交换，这些帧对应着特定数据流中的消息。所有这些都在一个 TCP 连接内复用。 这是 HTTP/2 协议所有其他功能和性能优化的基础。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a target="_blank" rel="noopener" href="https://developers.google.com/web/fundamentals/performance/http2/?hl=zh-cn">https://developers.google.com/web/fundamentals/performance/http2/?hl=zh-cn</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2020/03/06/2020-03-07-websocket/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/06/2020-03-07-websocket/" class="post-title-link" itemprop="url">WebSocket</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 00:00:00" itemprop="dateCreated datePublished" datetime="2020-03-07T00:00:00+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/protocol/" itemprop="url" rel="index"><span itemprop="name">protocol</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="全双工协议"><a href="#全双工协议" class="headerlink" title="全双工协议"></a>全双工协议</h3><p>简而言之，许多应用场景需要全双工的web应用，例如：服务器主动推送和实时交互的应用。这些应用不适合在HTTP协议上实现。最好的方式是使用HTTP建立握手，之后基于TCP做长连接。</p>
<p>与HTTP的关系是：使用了其握手机制和端口号。</p>
<blockquote>
<p>Relationship to TCP and HTTP</p>
</blockquote>
<blockquote>
<p>   The WebSocket Protocol is an independent TCP-based protocol.  Its<br>   only relationship to HTTP is that its handshake is interpreted by<br>   HTTP servers as an Upgrade request.</p>
</blockquote>
<blockquote>
<p>   By default, the WebSocket Protocol uses port 80 for regular WebSocket<br>   connections and port 443 for WebSocket connections tunneled over<br>   Transport Layer Security (TLS) [RFC2818].</p>
</blockquote>
<p>   <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Comparison_of_WebSocket_implementations">支持WebSocket的浏览器</a></p>
<h3 id="握手"><a href="#握手" class="headerlink" title="握手"></a>握手</h3><p>WebSocket通过HTTP/1.1协议的101状态码握手。</p>
<p><strong>客户端发起握手请求：</strong></p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">ws://localhost:6060/ws</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>localhost:6060</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>Upgrade   # 连接升级</span><br><span class="line"><span class="attribute">Pragma</span><span class="punctuation">: </span>no-cache</span><br><span class="line"><span class="attribute">Cache-Control</span><span class="punctuation">: </span>no-cache</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36</span><br><span class="line"><span class="attribute">Upgrade</span><span class="punctuation">: </span>websocket    # 升级到WebSocket</span><br><span class="line"><span class="attribute">Origin</span><span class="punctuation">: </span>http://localhost:6060</span><br><span class="line"><span class="attribute">Sec-WebSocket-Version</span><span class="punctuation">: </span>13   # 表示支持的WebSocket版本</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate, br</span><br><span class="line"><span class="attribute">Accept-Language</span><span class="punctuation">: </span>zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7,ja;q=0.6,zh-TW;q=0.5</span><br><span class="line"><span class="attribute">Cookie</span><span class="punctuation">: </span>wp-settings-time-1=1566626634</span><br><span class="line"><span class="attribute">Sec-WebSocket-Key</span><span class="punctuation">: </span>Omt7iN7CaEUxYdm+wlVEaA==</span><br><span class="line"><span class="attribute">Sec-WebSocket-Extensions</span><span class="punctuation">: </span>permessage-deflate; client_max_window_bits</span><br></pre></td></tr></table></figure>

<p><strong>服务器回应</strong></p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">101</span> Switching Protocols</span><br><span class="line"><span class="attribute">Upgrade</span><span class="punctuation">: </span>websocket</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>Upgrade</span><br><span class="line"><span class="attribute">Sec-WebSocket-Accept</span><span class="punctuation">: </span>ggdcU6xoySObbFCh62I2J3eRxu0=</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Sec-WebSocket-Key</code>是随机的字符串，服务器端会用这些数据来构造出一个SHA-1的信息摘要。把<code>Sec-WebSocket-Key</code>加上一个特殊字符串（固定）：<code>258EAFA5-E914-47DA-95CA-C5AB0DC85B11</code>，然后计算SHA-1摘要，之后进行BASE-64编码，将结果做为<code>Sec-WebSocket-Accept</code>头的值，返回给客户端。如此操作，可以尽量避免普通HTTP请求被误认为Websocket协议。</li>
</ul>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 固定字符串</span></span><br><span class="line"><span class="keyword">var</span> keyGUID = []<span class="keyword">byte</span>(<span class="string">&quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务器根据客户端请求的随机key计算Sec-WebSocket-Accept字段的值</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">computeAcceptKey</span><span class="params">(challengeKey <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	h := sha1.New()</span><br><span class="line">	h.Write([]<span class="keyword">byte</span>(challengeKey))</span><br><span class="line">	h.Write(keyGUID)</span><br><span class="line">	<span class="keyword">return</span> base64.StdEncoding.EncodeToString(h.Sum(<span class="literal">nil</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端生成随机key</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generateChallengeKey</span><span class="params">()</span> <span class="params">(<span class="keyword">string</span>, error)</span></span> &#123;</span><br><span class="line">	p := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">16</span>)</span><br><span class="line">	<span class="keyword">if</span> _, err := io.ReadFull(rand.Reader, p); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;&quot;</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> base64.StdEncoding.EncodeToString(p), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><code>Origin</code>字段是可选的，通常用来表示在浏览器中发起此Websocket连接所在的页面。</li>
</ul>
<h3 id="协议格式"><a href="#协议格式" class="headerlink" title="协议格式"></a>协议格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> 0                   1                   2                   3</span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class="line">+-+-+-+-+-------+-+-------------+-------------------------------+</span><br><span class="line">|F|R|R|R| opcode|M| Payload len |    Extended payload length    |</span><br><span class="line">|I|S|S|S|  (4)  |A|     (7)     |             (16&#x2F;64)           |</span><br><span class="line">|N|V|V|V|       |S|             |   (if payload len&#x3D;&#x3D;126&#x2F;127)   |</span><br><span class="line">| |1|2|3|       |K|             |                               |</span><br><span class="line">+-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - +</span><br><span class="line">|     Extended payload length continued, if payload len &#x3D;&#x3D; 127  |</span><br><span class="line">+ - - - - - - - - - - - - - - - +-------------------------------+</span><br><span class="line">|                               |Masking-key, if MASK set to 1  |</span><br><span class="line">+-------------------------------+-------------------------------+</span><br><span class="line">| Masking-key (continued)       |          Payload Data         |</span><br><span class="line">+-------------------------------- - - - - - - - - - - - - - - - +</span><br><span class="line">:                     Payload Data continued ...                :</span><br><span class="line">+ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +</span><br><span class="line">|                     Payload Data continued ...                |</span><br><span class="line">+---------------------------------------------------------------+</span><br></pre></td></tr></table></figure>

<ul>
<li><code>FIN</code>为true表示是最后一个分片。</li>
<li><code>RSV</code>一般情况都为0。</li>
<li><code>opcode</code> 定义了<code>payload data</code>的类型。</li>
<li><code>mask</code>为true表示payload是编码处理的。</li>
<li><code>masking-key</code>编码key。</li>
<li><code>payload length</code>表示payload的长度。</li>
</ul>
<p>extend为payload过长时的扩展字段。</p>
<p>客户端发给服务器的包，必须masking：</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> wordSize = <span class="keyword">int</span>(unsafe.Sizeof(<span class="keyword">uintptr</span>(<span class="number">0</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 随机生成masking-key</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newMaskKey</span><span class="params">()</span> [4]<span class="title">byte</span></span> &#123;</span><br><span class="line">	n := rand.Uint32()</span><br><span class="line">	<span class="keyword">return</span> [<span class="number">4</span>]<span class="keyword">byte</span>&#123;<span class="keyword">byte</span>(n), <span class="keyword">byte</span>(n &gt;&gt; <span class="number">8</span>), <span class="keyword">byte</span>(n &gt;&gt; <span class="number">16</span>), <span class="keyword">byte</span>(n &gt;&gt; <span class="number">24</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maskBytes</span><span class="params">(key [4]<span class="keyword">byte</span>, pos <span class="keyword">int</span>, b []<span class="keyword">byte</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="comment">// Mask one byte at a time for small buffers.</span></span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(b) &lt; <span class="number">2</span>*wordSize &#123;</span><br><span class="line">		<span class="keyword">for</span> i := <span class="keyword">range</span> b &#123;</span><br><span class="line">			b[i] ^= key[pos&amp;<span class="number">3</span>]</span><br><span class="line">			pos++</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> pos &amp; <span class="number">3</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Mask one byte at a time to word boundary.</span></span><br><span class="line">	<span class="keyword">if</span> n := <span class="keyword">int</span>(<span class="keyword">uintptr</span>(unsafe.Pointer(&amp;b[<span class="number">0</span>]))) % wordSize; n != <span class="number">0</span> &#123;</span><br><span class="line">		n = wordSize - n</span><br><span class="line">		<span class="keyword">for</span> i := <span class="keyword">range</span> b[:n] &#123;</span><br><span class="line">			b[i] ^= key[pos&amp;<span class="number">3</span>]</span><br><span class="line">			pos++</span><br><span class="line">		&#125;</span><br><span class="line">		b = b[n:]</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Create aligned word size key.</span></span><br><span class="line">	<span class="keyword">var</span> k [wordSize]<span class="keyword">byte</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> k &#123;</span><br><span class="line">		k[i] = key[(pos+i)&amp;<span class="number">3</span>]</span><br><span class="line">	&#125;</span><br><span class="line">	kw := *(*<span class="keyword">uintptr</span>)(unsafe.Pointer(&amp;k))</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Mask one word at a time.</span></span><br><span class="line">	n := (<span class="built_in">len</span>(b) / wordSize) * wordSize</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i += wordSize &#123;</span><br><span class="line">		*(*<span class="keyword">uintptr</span>)(unsafe.Pointer(<span class="keyword">uintptr</span>(unsafe.Pointer(&amp;b[<span class="number">0</span>])) + <span class="keyword">uintptr</span>(i))) ^= kw</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Mask one byte at a time for remaining bytes.</span></span><br><span class="line">	b = b[n:]</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> b &#123;</span><br><span class="line">		b[i] ^= key[pos&amp;<span class="number">3</span>]</span><br><span class="line">		pos++</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> pos &amp; <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="控制消息"><a href="#控制消息" class="headerlink" title="控制消息"></a>控制消息</h3><p>WebSocket定义了3种类型的控制消息（control message）：close, ping and pong。</p>
<p><strong>close</strong></p>
<p><code>opcode</code>为0x8</p>
<p>客户端发起的close，<code>websocket.payload.close.status_code</code>置为1000，表示normal closure。若不设置，则默认为CloseNoStatusReceived=1005。</p>
<p>服务器收到关闭请求，响应包也发送1000。</p>
<p>客户端收到响应后，执行TCP四次挥手过长，双方关闭TCP连接。</p>
<p>在实际捕获websocket的close code时，应注意以下细节：</p>
<ul>
<li><code>1006</code>属于错误码，并不是可从<code>SetCloseHandler</code>中捕获到的，因为它没有真正的发送close消息。</li>
<li>若websocket由Nginx代理，应考虑Nginx可能会主动发送close的情况，因此应该从读取message的地方去获取断开原因，因为<code>SetCloseHandler</code>有可能会接收到Nginx发来的close状态。</li>
</ul>
<p><strong>ping</strong></p>
<p><code>opcode</code>为0x9</p>
<p>发送方 -&gt; 接收方</p>
<blockquote>
<p> WebSocket为了保持客户端、服务端的实时双向通信，需要确保客户端、服务端之间的TCP通道保持连接没有断开。然而，对于长时间没有数据往来的连接，如果依旧长时间保持着，可能会浪费包括的连接资源。但不排除有些场景，客户端、服务端虽然长时间没有数据往来，但仍需要保持连接。这个时候，可以采用心跳来实现。</p>
</blockquote>
<blockquote>
<p>如果客户端支持ping，最好由客户端发起ping，然后服务器记录时间，超时断开即可。浏览器中没有相关api发送ping给服务器，只能由服务器发ping给浏览器。</p>
</blockquote>
<p><strong>pong</strong></p>
<p><code>opcode</code>为0xA</p>
<p>接收方 -&gt; 发送方</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc6455">https://tools.ietf.org/html/rfc6455</a></p>
<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/WebSocket">https://zh.wikipedia.org/wiki/WebSocket</a></p>
<p><a target="_blank" rel="noopener" href="https://godoc.org/github.com/gorilla/websocket">https://godoc.org/github.com/gorilla/websocket</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/gorilla/websocket">https://github.com/gorilla/websocket</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/gorilla/websocket/blob/master/examples/chat/client.go">websocket ping/pong timeout</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2019/08/19/2019-08-14-use-brook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/19/2019-08-14-use-brook/" class="post-title-link" itemprop="url">Use of Brook</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-20 00:00:00" itemprop="dateCreated datePublished" datetime="2019-08-20T00:00:00+08:00">2019-08-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/how2use/" itemprop="url" rel="index"><span itemprop="name">how2use</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><em><strong>声明：仅用于交流学习技术</strong></em></p>
<h3 id="购买服务器（此部分略）"><a href="#购买服务器（此部分略）" class="headerlink" title="购买服务器（此部分略）"></a>购买服务器（此部分略）</h3><h3 id="BBR"><a href="#BBR" class="headerlink" title="BBR"></a>BBR</h3><p>若服务器支持BBR，可使用以下命令一键安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install wget</span><br><span class="line">wget –no-check-certificate https:&#x2F;&#x2F;github.com&#x2F;teddysun&#x2F;across&#x2F;raw&#x2F;master&#x2F;bbr.sh</span><br><span class="line">chmod +x bbr.sh</span><br><span class="line">.&#x2F;bbr.sh</span><br></pre></td></tr></table></figure>

<h3 id="server端debug模式"><a href="#server端debug模式" class="headerlink" title="server端debug模式"></a>server端debug模式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;brook -d servers -l &quot;:port password&quot;</span><br></pre></td></tr></table></figure>
<p>查看防火墙状态命令：<code>firewall-cmd --state</code></p>
<p>停止firewall命令：<code>systemctl stop firewalld.service</code></p>
<p>禁止firewall开机启动命令：<code>systemctl disable firewalld.service</code></p>
<h3 id="客户端debug连接测试"><a href="#客户端debug连接测试" class="headerlink" title="客户端debug连接测试"></a>客户端debug连接测试</h3><p>建立隧道</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;brook_darwin_amd64 -d tunnel -l 127.0.0.1:1080 -t 8.8.8.8:53 -s server-ip:server-port -p password</span><br></pre></td></tr></table></figure>
<p>dig测试UDP和TCP是否连通</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># UDP</span><br><span class="line">dig google.com @127.0.0.1 -p 1080</span><br><span class="line"></span><br><span class="line"># TCP</span><br><span class="line">dig +tcp google.com @127.0.0.1 -p 1080</span><br></pre></td></tr></table></figure>

<h3 id="使用GUI-client"><a href="#使用GUI-client" class="headerlink" title="使用GUI client"></a>使用GUI client</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install brook</span><br></pre></td></tr></table></figure>

<p>每次启动进程时，都会在自动代理里添加：<code>https://blackwhite.txthinking.com/white.pac</code></p>
<p>即添加访问规则</p>
<h3 id="terminal使用代理"><a href="#terminal使用代理" class="headerlink" title="terminal使用代理"></a>terminal使用代理</h3><p>在~/.bash_profile后添加配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br><span class="line">export https_proxy&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:1080</span><br></pre></td></tr></table></figure>

<p>source使之立即生效</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://byyam.github.io/2017/12/24/2017-12-24-job-scheduling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yam">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yam's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/24/2017-12-24-job-scheduling/" class="post-title-link" itemprop="url">Job scheduling</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-12-24 23:00:00" itemprop="dateCreated datePublished" datetime="2017-12-24T23:00:00+08:00">2017-12-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-08 18:09:58" itemprop="dateModified" datetime="2022-01-08T18:09:58+08:00">2022-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithms/" itemprop="url" rel="index"><span itemprop="name">algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>Job scheduling</strong></p>
<p><strong>作业调度</strong></p>
<h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><p>多个作业进程（或服务器，后称为process）可处理相同的任务，并具有不同的处理能力。</p>
<h3 id="假设"><a href="#假设" class="headerlink" title="假设"></a>假设</h3><table>
<thead>
<tr>
<th>进程（服务器）</th>
<th>处理能力</th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>4</td>
</tr>
<tr>
<td>B</td>
<td>3</td>
</tr>
<tr>
<td>C</td>
<td>2</td>
</tr>
</tbody></table>
<p>在一轮任务（Job）的分配中，均衡的分配给每一个process。</p>
<p>处理能力可认为是分配权重weight。</p>
<h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><h3 id="加权轮询调度"><a href="#加权轮询调度" class="headerlink" title="加权轮询调度"></a>加权轮询调度</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Supposing that there is a server set S &#x3D; &#123;S0, S1, …, Sn-1&#125;;</span><br><span class="line">W(Si) indicates the weight of Si;</span><br><span class="line">i indicates the server selected last time, and i is initialized with -1;</span><br><span class="line">cw is the current weight in scheduling, and cw is initialized with zero; </span><br><span class="line">max(S) is the maximum weight of all the servers in S;</span><br><span class="line">gcd(S) is the greatest common divisor of all server weights in S;</span><br><span class="line"></span><br><span class="line">while (true) &#123;</span><br><span class="line">    i &#x3D; (i + 1) mod n;</span><br><span class="line">    if (i &#x3D;&#x3D; 0) &#123;</span><br><span class="line">        cw &#x3D; cw - gcd(S); </span><br><span class="line">        if (cw &lt;&#x3D; 0) &#123;</span><br><span class="line">            cw &#x3D; max(S);</span><br><span class="line">            if (cw &#x3D;&#x3D; 0)</span><br><span class="line">            return NULL;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    if (W(Si) &gt;&#x3D; cw) </span><br><span class="line">        return Si;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出的结果是<code>AABABCABC</code></p>
<p>这个算法的两个技巧：</p>
<ol>
<li>gcd最大公约数：相当于算法的步长。比如权重为1000，100，10的三个process，分配时可以认为它们是权重为100，10，1.最大公约数为10，循环执行10次的效果是一样的。</li>
<li>当W(Si) &gt;= cw时，才返回Si。这样做的效果是，不同process中优先调用高于其他weight的部分，当所有process剩下的weight相等时，按顺序循环调用。</li>
</ol>
<h3 id="实现代码"><a href="#实现代码" class="headerlink" title="实现代码"></a>实现代码</h3><p><a target="_blank" rel="noopener" href="https://gist.github.com/byyam/6fe49cc9861b9134025c8234517f778a">python实现</a></p>
<h3 id="更为随机的加权轮询调度"><a href="#更为随机的加权轮询调度" class="headerlink" title="更为随机的加权轮询调度"></a>更为随机的加权轮询调度</h3><p>设想<code>A，B，C</code>的权值分别为<code>5，1，1</code>的情景下，以上的调度算法输出为<code>AAAAABC</code></p>
<p>定义：</p>
<ol>
<li>每个process的动态当前权值current weight为cw</li>
<li>每个process的固有权值weight为w</li>
<li>参加轮询的process的weight之和为sw</li>
</ol>
<p>算法：</p>
<ol>
<li>每个cw初始值为0</li>
<li>每个cw = cw + w</li>
<li>被选中的process为cw最大的，被选中后cw的值被惩罚为该process的cw减去sw，而其他process的cw保持不变。即max(cw) - sw</li>
<li>若所有process的cw都为0，则一轮结束。否则，进行下一步</li>
<li>跳到第2步</li>
</ol>
<p>运算：</p>
<p>奇数行根据最大的current weight选择process</p>
<p>被选中的cw被高亮标出</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><code>5</code></td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>-2</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><code>3</code></td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>-4</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td><code>3</code></td>
<td>3</td>
</tr>
<tr>
<td>1</td>
<td>-4</td>
<td>3</td>
</tr>
<tr>
<td><code>6</code></td>
<td>-3</td>
<td>4</td>
</tr>
<tr>
<td>-1</td>
<td>-3</td>
<td>4</td>
</tr>
<tr>
<td>4</td>
<td>-2</td>
<td><code>5</code></td>
</tr>
<tr>
<td>4</td>
<td>-2</td>
<td>-2</td>
</tr>
<tr>
<td><code>9</code></td>
<td>-1</td>
<td>-1</td>
</tr>
<tr>
<td>2</td>
<td>-1</td>
<td>-1</td>
</tr>
<tr>
<td><code>7</code></td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody></table>
<p>技巧：</p>
<ol>
<li>算法里循环执行的<code>cw = cw + w</code>和<code>max（cw）-sw</code>两个步骤确保了cw之和等于sw，循环次数为<code>sw</code>次</li>
<li>和上一个算法相比，该算法每次让被选出来的process尽可能的排在最后面，确保了不会有连续的被选中</li>
</ol>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>加权轮询调度算法：</p>
<p><a target="_blank" rel="noopener" href="http://kb.linuxvirtualserver.org/wiki/Weighted_Round-Robin_Scheduling">http://kb.linuxvirtualserver.org/wiki/Weighted_Round-Robin_Scheduling</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yam</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/byyam" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;byyam" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yam</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
